{"version":3,"sources":["version8/components/SlidingPanel.module.css","version8/components/transitions/SlideFromLeft.module.css","version8/components/transitions/SlideFromRight.module.css","version8/components/transitions/SlideFromBottom.module.css","version8/components/transitions/SlideFromTop.module.css","version8/components/ConnectionList.module.css","version8/components/GroupsList.module.css","version8/SocialApp.module.css","version8/components/SocialGraph.js","version8/components/InfoBox.js","version8/components/TimeLineBox.js","../node_modules/dom-helpers/esm/removeClass.js","../node_modules/react-transition-group/esm/config.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/Transition.js","../node_modules/react-transition-group/esm/CSSTransition.js","../node_modules/dom-helpers/esm/addClass.js","../node_modules/dom-helpers/esm/hasClass.js","version8/components/SlidingPanel.js","version8/components/ConnectionList.js","version8/components/GroupsList.js","version8/model/Person.js","version8/model/Errors.js","version8/model/People.js","version8/model/Business.js","version8/model/Businesses.js","version8/model/Message.js","version8/model/Messages.js","version8/model/Position.js","version8/model/Positions.js","version8/model/Affiliation.js","version8/model/Affiliations.js","version8/model/Source.js","version8/model/Sources.js","version8/model/Note.js","version8/model/Notes.js","version8/model/DateRange.js","version8/model/Social.js","version8/SocialApp.js"],"names":["module","exports","fast_physics","enabled","timestep","options","height","width","layout","randomSeed","manipulation","initiallyActive","interaction","navigationButtons","edges","shadow","smooth","type","roundness","physics","SocialGraph","props","state","network","updateWindowDimensions","bind","this","window","addEventListener","removeEventListener","setState","innerWidth","innerHeight","params","emitClicked","graph","id","nodes","length","get","fit","my_options","events","click","handleClick","resize","handleResize","getNetwork","React","Component","InfoBox","Card","body","outline","color","style","overflowY","CardHeader","align","title","CardImg","top","src","image","CardBody","text","basicExample","start","end","items","content","TimeLineBox","selectedIds","replaceClassName","origClass","classToRemove","replace","RegExp","createContext","UNMOUNTED","EXITED","ENTERING","ENTERED","_React$Component","Transition","context","_this","call","initialStatus","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","getDerivedStateFromProps","_ref","prevState","_proto","prototype","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","undefined","mounting","node","findDOMNode","performEnter","performExit","_this2","appearing","timeouts","enterTimeout","config","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","nextState","callback","setNextCallback","_this4","active","event","handler","doesNotHaveTimeoutOrListener","addEndListener","setTimeout","render","_this$props","children","childProps","createElement","TransitionGroupContext","Provider","value","child","Children","only","cloneElement","noop","contextType","propTypes","defaultProps","EXITING","classes","split","forEach","c","className","element","classList","remove","setAttribute","baseVal","CSSTransition","_len","arguments","args","Array","_key","apply","concat","appliedClasses","removeClasses","addClass","getClassNames","classNames","isStringClassNames","baseClassName","activeClassName","doneClassName","phase","scrollTop","add","contains","indexOf","hasClass","_addClass","_this$appliedClasses$","base","done","SlidingPanel","isOpen","position","container","styles","rightContainer","transition","SlideFromRight","bottomContainer","SlideFromBottom","topContainer","SlideFromTop","leftContainer","SlideFromLeft","ConnectionList","connections","listitems","map","item","i","name","getName","key","href","class","button","onClick","GroupsList","groups","getID","val","def","Person","titles","firstnames","surnames","suffixes","positions","affiliations","projects","sources","scores","alive","gender","notes","_getHook","hook","join","parts","part","getTitle","push","getFirstName","getSurname","getSuffix","group","result","getStart","getEnd","is_anchor","label","shape","weight","keys","Object","sort","unDry","Dry","registerClass","KeyError","Error","captureStackTrace","MissingError","_generate_person_uid","uid","uuidv4","substring","People","registry","load","_updateHooks","search","person","anchor","group_filter","node_filter","vis","DataSet","p","getNode","inGroup","data","array","people","Business","_generate_business_uid","Businesses","business","b","businesses","Message","date","sender","receiver","from","to","size","_generate_message_uid","Messages","message","seen","n","n_id","toEdge","messages","Position","_generate_position_uid","Positions","Affiliation","_generate_affiliation_uid","Affiliations","affiliation","Source","_generate_source_uid","Sources","source","Note","getText","_generate_note_uid","Notes","note","DateRange","Social","getHook","getMessages","getConnectionsTo","getPeople","find","connection","getNodes","getBusinesses","getEdges","getPositions","getAffiliations","getSources","getNotes","social","SocialApp","controlButton","resetFilters","parse","graph_data","console","log","default_data","infobox_data","getGraph","person_filter","isInfoPanelOpen","isTimeLinePanelOpen","timeline","a","selectNode","selectGroup","showInfo","newdata","getBiography","getSender","getReceiver","filter_text","toggleInfoPanel","toggleTimeLinePanel","slotClicked"],"mappings":"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","file":"static/js/6.9a1d344e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SlidingPanel_container__kAOZX\",\"leftContainer\":\"SlidingPanel_leftContainer__3diQ4\",\"rightContainer\":\"SlidingPanel_rightContainer__2v4a0\",\"topContainer\":\"SlidingPanel_topContainer__3tQrd\",\"bottomContainer\":\"SlidingPanel_bottomContainer__2uaFH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromLeft_enter__1Co2y\",\"enterActive\":\"SlideFromLeft_enterActive__8rxSw\",\"exit\":\"SlideFromLeft_exit__AieR6\",\"exitActive\":\"SlideFromLeft_exitActive__21Xyj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromRight_enter__3DvEl\",\"enterActive\":\"SlideFromRight_enterActive__33hj2\",\"exit\":\"SlideFromRight_exit__2mBjK\",\"exitActive\":\"SlideFromRight_exitActive__36j60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromBottom_enter__ipcC8\",\"enterActive\":\"SlideFromBottom_enterActive__3CAeV\",\"exit\":\"SlideFromBottom_exit__3Ug4f\",\"exitActive\":\"SlideFromBottom_exitActive__3lIXO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromTop_enter__36drm\",\"enterActive\":\"SlideFromTop_enterActive__xcy7B\",\"exit\":\"SlideFromTop_exit__KFnXf\",\"exitActive\":\"SlideFromTop_exitActive__1T5vh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ConnectionList_button__1Xudf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"GroupsList_button__3BKvs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"module\":\"SocialApp_module__2JuL9\"};","import React from \"react\";\nimport Graph from \"react-graph-vis\";\nimport vis from \"vis-network\";\n\nconst fast_physics = {\n  enabled: true,\n  timestep: 0.5,\n};\n\nconst slow_physics = {...fast_physics};\nslow_physics.timestep = 0.1;\n\nconst options = {\n  height: \"200px\",\n  width: \"200px\",\n  layout:{\n    randomSeed: 42,\n  },\n  manipulation:{\n    enabled: false,\n    initiallyActive: false,\n  },\n  interaction:{\n    navigationButtons: true,\n  },\n  edges:{\n    shadow: false,\n    smooth: {\n      enabled: true,\n      type: \"continuous\",\n      roundness: 0.3,\n    },\n    width: 0.5,\n  },\n  physics: fast_physics,\n};\n\nclass SocialGraph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      network: {},\n      width: 0,\n      height: 0,\n    };\n\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  updateWindowDimensions() {\n    this.setState({ width: window.innerWidth, height: window.innerHeight });\n  }\n\n  handleClick(params) {\n    let emitClicked = this.props.emitClicked;\n\n    if (emitClicked)\n    {\n      let graph = this.props.graph;\n\n      let id = null;\n\n      if (params.nodes.length > 0)\n      {\n        let node = graph.nodes.get(params.nodes[0]);\n        id = node.id;\n      }\n      else if (params.edges.length > 0)\n      {\n        let edge = graph.edges.get(params.edges[0]);\n        id = edge.id;\n      }\n\n      emitClicked(id);\n    }\n  }\n\n  handleResize(params){\n    // need to do this or else the network is rendered off-screen!\n    let network = this.state.network;\n    network.fit();\n  }\n\n  render(){\n    let graph = this.props.graph;\n    let my_options = {...options};\n\n    // seem to need to do this so that the network will auto-scale\n    // as the screen is redrawn\n    my_options[\"height\"] = `${0.9*this.state.height}px`;\n    my_options[\"width\"] = `${0.95*this.state.width}px`;\n\n    if (graph){\n      let events = {click: (params) => {this.handleClick(params)},\n                    resize: (params) => {this.handleResize(params)}};\n\n      return (<div>\n              <Graph graph={{nodes:graph.nodes.get(),\n                             edges:graph.edges.get()}}\n                     options={my_options}\n                     events={events}\n                     getNetwork={network =>\n                                  this.setState({network:network})} />\n             </div>);\n    }\n    else{\n      return (<div>No data to display!!!</div>);\n    }\n  }\n};\n\nexport default SocialGraph;\n","import React from \"react\";\nimport { Card, CardHeader, CardBody, CardImg } from 'reactstrap';\n\nfunction InfoBox(props) {\n  return (\n    <Card body outline color=\"secondary\" style={{height:\"100%\", overflowY:\"scroll\"}}>\n        <CardHeader align=\"center\">{props.title}</CardHeader>\n        <CardImg top width=\"100%\" src={props.image} />\n        <CardBody>\n        {props.text}\n        </CardBody>\n    </Card>\n  );\n};\n\nexport default InfoBox;\n","import React, { Component } from 'react'\nimport Timeline from 'react-visjs-timeline'\n\nconst basicExample = {\n  options: {\n    start: '2014-04-10',\n    end: '2014-04-30',\n  },\n  items: [\n    { id: 1, content: 'item 1', start: '2014-04-20' },\n    { id: 2, content: 'item 2', start: '2014-04-14' },\n    { id: 3, content: 'item 3', start: '2014-04-18' },\n    { id: 4, content: 'item 4', start: '2014-04-16', end: '2014-04-19' },\n    { id: 5, content: 'item 5', start: '2014-04-25' },\n    { id: 6, content: 'item 6', start: '2014-04-27', type: 'point' },\n  ],\n}\n\nclass TimeLineBox extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selectedIds: [],\n    }\n  }\n\n  render() {\n    return (\n        <Timeline {...basicExample} />\n    )\n  }\n}\n\nexport default TimeLineBox\n","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    ;\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  }; // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n      var node = ReactDOM.findDOMNode(this);\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(node, mounting);\n      } else {\n        this.performExit(node);\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(node, mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(node);\n      });\n      return;\n    }\n\n    this.props.onEnter(node, appearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(node, appearing);\n\n      _this2.onTransitionEnd(node, enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node, appearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit(node) {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(node);\n      });\n      return;\n    }\n\n    this.props.onExit(node);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(node);\n\n      _this3.onTransitionEnd(node, timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n    this.setNextCallback(handler);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(node, this.nextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\"]); // filter props for Transtition\n\n\n    delete childProps.in;\n    delete childProps.mountOnEnter;\n    delete childProps.unmountOnExit;\n    delete childProps.appear;\n    delete childProps.enter;\n    delete childProps.exit;\n    delete childProps.timeout;\n    delete childProps.addEndListener;\n    delete childProps.onEnter;\n    delete childProps.onEntering;\n    delete childProps.onEntered;\n    delete childProps.onExit;\n    delete childProps.onExiting;\n    delete childProps.onExited;\n\n    if (typeof children === 'function') {\n      // allows for nested Transitions\n      return React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, children(status, childProps));\n    }\n\n    var child = React.Children.only(children);\n    return (// allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, React.cloneElement(child, childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Normally a component is not transitioned if it is shown when the\n   * `<Transition>` component mounts. If you want to transition on the first\n   * mount set `appear` to `true`, and the component will transition in as soon\n   * as the `<Transition>` mounts.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. **Note:** Timeouts are still used as a fallback if provided.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func // Name the function so it is clearer in the documentation\n\n} : {};\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = 0;\nTransition.EXITED = 1;\nTransition.ENTERING = 2;\nTransition.ENTERED = 3;\nTransition.EXITING = 4;\nexport default Transition;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](http://www.nganimate.org/) library, you should use it if you're\n * using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (node, appearing) {\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(node, appearing);\n      }\n    };\n\n    _this.onEntering = function (node, appearing) {\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(node, appearing);\n      }\n    };\n\n    _this.onEntered = function (node, appearing) {\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(node, appearing);\n      }\n    };\n\n    _this.onExit = function (node) {\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(node);\n      }\n    };\n\n    _this.onExiting = function (node) {\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(node);\n      }\n    };\n\n    _this.onExited = function (node) {\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(node);\n      }\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    if (type === 'appear' && phase === 'done') {\n      className += \" \" + this.getClassNames('enter').doneClassName;\n    } // This is for to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      /* eslint-disable no-unused-expressions */\n      node && node.scrollTop;\n    }\n\n    this.appliedClasses[type][phase] = className;\n\n    _addClass(node, className);\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided and it\n   * will be suffixed for each stage: e.g.\n   *\n   * `classNames=\"fade\"` applies `fade-appear`, `fade-appear-active`,\n   * `fade-appear-done`, `fade-enter`, `fade-enter-active`, `fade-enter-done`,\n   * `fade-exit`, `fade-exit-active`, and `fade-exit-done`.\n   *\n   * **Note**: `fade-appear-done` and `fade-enter-done` will _both_ be applied.\n   * This allows you to define different behavior for when appearing is done and\n   * when regular entering is done, using selectors like\n   * `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply an\n   * epic entrance animation when element first appears in the DOM using\n   * [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   * simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","export default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","\nimport React from \"react\";\nimport {CSSTransition} from \"react-transition-group\";\n\nimport styles from './SlidingPanel.module.css'\nimport SlideFromLeft from './transitions/SlideFromLeft.module.css';\nimport SlideFromRight from './transitions/SlideFromRight.module.css';\nimport SlideFromBottom from './transitions/SlideFromBottom.module.css';\nimport SlideFromTop from './transitions/SlideFromTop.module.css';\n\nfunction SlidingPanel({children, isOpen=false, position=\"right\", }){\n  let container = styles.rightContainer;\n  let transition = SlideFromRight;\n\n  if (position === \"right\"){\n    container = styles.rightContainer;\n    transition = SlideFromRight;\n  }\n  else if (position === \"bottom\"){\n    container = styles.bottomContainer;\n    transition = SlideFromBottom;\n  }\n  else if (position === \"top\"){\n    container = styles.topContainer;\n    transition = SlideFromTop;\n  }\n  else if (position === \"left\"){\n    container = styles.leftContainer;\n    transition = SlideFromLeft;\n  }\n\n  container = `${container} ${styles.container}`;\n\n  return (<CSSTransition in={isOpen}\n                         timeout={200}\n                         classNames={transition}\n                         unmountOnExit>\n            <div className={container}>\n              {children}\n            </div>\n          </CSSTransition>);\n};\n\nexport default SlidingPanel;\n","\nimport React from 'react';\n\nimport styles from './ConnectionList.module.css';\n\nfunction ConnectionList(props) {\n  const connections = props.connections;\n  const title = props.title;\n  const emitClicked = props.emitClicked;\n  if (!connections || connections.length === 0) {\n    return null;\n  }\n\n  const listitems = connections.map((item) => {\n    let i = item;\n    let name = item.getName();\n\n    if (emitClicked) {\n      return (<li key={name}>\n        <button href=\"#\" class={styles.button}\n          onClick={() => { emitClicked(i); }}>\n          {name}</button></li>);\n    }\n    else {\n      return (<li key={name}>{name}</li>);\n    }\n  });\n\n  return (<div>{title}<br /><ul>{listitems}</ul></div>);\n}\n\n\nexport default ConnectionList;\n","\nimport React from 'react';\n\nimport styles from './GroupsList.module.css';\n\nfunction GroupsList(props) {\n  const groups = props.groups;\n  const title = props.title;\n  const emitClicked = props.emitClicked;\n  if (!groups || groups.length === 0) {\n    return null;\n  }\n\n  const listitems = groups.map((item) => {\n    let i = item;\n    let name = item;\n\n    if (item.getName) {\n      name = item.getName();\n    }\n    else if (item.getID) {\n      name = item.getID();\n    }\n\n    if (emitClicked) {\n      return (<li key={name}>\n        <button href=\"#\" onClick={() => { emitClicked(i); }}\n          class={styles.button}>\n          {name}</button></li>);\n    }\n    else {\n      return (<li key={name}>{name}</li>);\n    }\n  });\n\n  return (<div>{title}<br /><ul>{listitems}</ul></div>);\n}\n\nexport default GroupsList;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Person {\n  constructor(props){\n    this.state = {\n      titles: [],\n      firstnames: [],\n      surnames: [],\n      suffixes: [],\n      id: null,\n      positions: {},\n      affiliations: {},\n      projects: {},\n      sources: [],\n      scores: {},\n      alive: null,\n      gender: null,\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.titles = setState(state.titles);\n      this.state.firstnames = setState(state.firstnames);\n      this.state.surnames = setState(state.surnames);\n      this.state.suffixes = setState(state.suffixes);\n      this.state.id = setState(state.id);\n      this.state.positions = setState(state.positions, {});\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.projects = setState(state.projects, {});\n      this.state.sources = setState(state.sources, []);\n      this.state.alive = setState(state.alive);\n      this.state.gender = setState(state.gender);\n      this.state.scores = setState(state.scores, {});\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Person(${this.getName()})`;\n  }\n\n  getFirstName(){\n    if (this.state.firstnames){\n      return this.state.firstnames.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getTitle(){\n    if (this.state.titles){\n      return this.state.titles.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getSurname(){\n    if (this.state.surnames){\n      return this.state.surnames.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getSuffix(){\n    if (this.state.suffixes){\n      return this.state.suffixes.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getName(){\n    var parts = [];\n\n    let part = this.getTitle();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getFirstName();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getSurname();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getSuffix();\n    if (part){\n      parts.push(part);\n    }\n\n    if (parts.length > 0){\n       return parts.join(\" \");\n    }\n    else{\n      return \"null\";\n    }\n  }\n\n  inGroup(group){\n    return (group in this.state.positions || group in this.state.affiliations);\n  }\n\n  getPositions(){\n    let result = [];\n\n    for (let key in this.state.positions){\n      let value = this.state.positions[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getAffiliations(){\n    let result = [];\n\n    for (let key in this.state.affiliations){\n      let value = this.state.affiliations[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getScores(){\n    return this.state.scores;\n  }\n\n  getBorn(){\n    if (this.state.alive){\n      return this.state.alive.getStart();\n    }\n    else{\n      return null;\n    }\n  }\n\n  getDied(){\n    if (this.state.alive){\n      return this.state.alive.getEnd();\n    }\n    else{\n      return null;\n    }\n  }\n\n  getNode(is_anchor=false){\n    let node = {id: this.getID(),\n                label: this.getName(),\n                title: this.getName(),\n                shape: \"dot\",\n               };\n\n    let weight = 10.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n      if (!weight){\n        weight = 10.0;\n      }\n    }\n\n    if (weight < 5.0){\n      weight = 5.0;\n    }\n    else if (weight > 20.0){\n      weight = 20.0;\n    }\n\n    node[\"size\"] = weight;\n\n    let keys = Object.keys(this.state.affiliations);\n\n    if (keys.length > 0){\n      node[\"group\"] = keys.sort().join(\":\");\n    }\n    else{\n      node[\"group\"] = \"unknown\";\n    }\n\n    if (is_anchor){\n      node[\"shape\"] = \"star\";\n      node[\"physics\"] = false;\n      node[\"group\"] = \"anchor\";\n      node[\"size\"] = 20.0;\n    }\n\n    return node;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPerson.unDry = function(value){\n  return new Person(value);\n}\n\nDry.registerClass(\"Person\", Person);\n\nexport default Person;\n","\nclass KeyError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, KeyError)\n    }\n}\n\nclass ValueError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, ValueError)\n    }\n}\n\nclass DuplicateError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, DuplicateError)\n    }\n}\n\nclass MissingError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, MissingError)\n    }\n}\n\nexport {KeyError, ValueError, DuplicateError, MissingError};\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\nimport vis from \"vis-network\";\n\nimport Person from \"./Person\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_person_uid(){\n  let uid = uuidv4();\n  return \"P\" + uid.substring(uid.length-7);\n}\n\nclass People {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n\n    this._getHook = null;\n\n    this.load(props);\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  find(name){\n    for (let key in this.state.registry){\n      let person = this.state.registry[key];\n      if (person.getName().search(name) !== -1){\n        return key;\n      }\n    }\n\n    return null;\n  }\n\n  add(person){\n    if (!(person instanceof Person)){ return;}\n\n    let id = person.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Person ID ${person}`);\n      }\n\n      this.state.registry[id] = person;\n    }\n    else{\n      let uid = _generate_person_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_person_uid();\n      }\n\n      person.state.id = uid;\n      this.state.registry[uid] = person;\n    }\n  }\n\n  getNodes({anchor=null, group_filter=null, node_filter=null} = {}){\n    let nodes = new vis.DataSet();\n\n    if (group_filter){\n      group_filter = group_filter.getID();\n    }\n\n    for (let person in this.state.registry){\n      let p = this.state.registry[person];\n      if (person === anchor){\n        nodes.add(p.getNode({is_anchor:true}));\n      }\n      else if (node_filter){\n        if (p.getID() in node_filter){\n          if (group_filter){\n            if (p.inGroup(group_filter)){\n              nodes.add(p.getNode());\n            }\n          }\n          else{\n            nodes.add(p.getNode());\n          }\n        }\n      }\n      else if (group_filter){\n        if (p.inGroup(group_filter)){\n          nodes.add(p.getNode());\n        }\n      }\n      else{\n        nodes.add(p.getNode());\n      }\n    }\n\n    return nodes;\n  }\n\n  get(id){\n    let person = this.state.registry[id];\n\n    if (person === null){\n      throw MissingError(`No Person with ID ${id}`);\n    }\n\n    return person;\n  }\n\n  load(data){\n    if (data){\n      if (data.array){ data = data.array; }\n      data.forEach(element => {\n        let person = Person.load(element);\n        this.add(person);\n      });\n    }\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPeople.unDry = function(value){\n  let people = new People();\n  people.state = value;\n  return people;\n}\n\nDry.registerClass(\"People\", People);\n\nexport default People;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Business {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      projects: {},\n      sources: [],\n      scores: {},\n      affiliations: {},\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.projects = setState(state.projects, {});\n      this.state.sources = setState(state.sources, []);\n      this.state.scores = setState(state.scores, {});\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Business(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  inGroup(group){\n    return group in this.state.affiliations;\n  }\n\n  getAffiliations(){\n    let result = [];\n\n    for (let key in this.state.affiliations){\n      let value = this.state.affiliations[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getScores(){\n    return this.state.scores;\n  }\n\n  getNode(is_anchor=false){\n    let node = {\n      id: this.getID(),\n      label: this.getName(),\n      title: this.getName(),\n      shape: \"dot\",\n     };\n\n    let weight = 1.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n      if (!weight){\n        weight = 1.0;\n      }\n    }\n\n    if (weight < 5.0){\n      weight = 5.0;\n    }\n    else if (weight > 20.0){\n      weight = 20.0;\n    }\n\n    node[\"size\"] = weight;\n\n    let keys = Object.keys(this.state.affiliations);\n\n    if (keys.length > 0){\n      node[\"group\"] = keys.sort().join(\":\");\n    }\n\n    if (is_anchor){\n      node[\"shape\"] = \"star\";\n      node[\"physics\"] = false;\n      node[\"group\"] = \"anchor\";\n      node[\"size\"] = 20.0;\n    }\n\n    return node;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nBusiness.unDry = function(value){\n  return new Business(value);\n}\n\nDry.registerClass(\"Business\", Business);\n\nexport default Business;\n","\nimport Dry from 'json-dry';\nimport vis from 'vis-network';\nimport uuidv4 from 'uuid';\n\nimport Business from \"./Business\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_business_uid(){\n  let uid = uuidv4();\n  return \"B\" + uid.substring(uid.length-7);\n}\n\nclass Businesses {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(business){\n    if (!(business instanceof Business)){ return;}\n\n    let id = business.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Business ID ${Business}`);\n      }\n\n      this.state.registry[id] = business;\n    }\n    else{\n      let uid = _generate_business_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_business_uid();\n      }\n\n      business.state.id = uid;\n      this.state.registry[uid] = business;\n    }\n  }\n\n  get(id){\n    let business = this.state.registry[id];\n\n    if (business === null){\n      throw MissingError(`No Business with ID ${id}`);\n    }\n\n    return business;\n  }\n\n\n  getNodes({anchor=null, group_filter=null, node_filter=null} = {}){\n    let nodes = new vis.DataSet();\n\n    if (group_filter){\n      group_filter = group_filter.getID();\n    }\n\n    for (let business in this.state.registry){\n      let b = this.state.registry[business];\n      if (business === anchor){\n        nodes.add(b.getNode({is_anchor:true}));\n      }\n      else if (node_filter){\n        if (b.getID() in node_filter){\n          if (group_filter){\n            if (b.inGroup(group_filter)){\n              nodes.add(b.getNode());\n            }\n          }\n          else{\n            nodes.add(b.getNode());\n          }\n        }\n      }\n      else if (group_filter){\n        if (b.inGroup(group_filter)){\n          nodes.add(b.getNode());\n        }\n      }\n      else{\n        nodes.add(b.getNode());\n      }\n    }\n\n    return nodes;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nBusinesses.unDry = function(value){\n  let businesses = new Businesses();\n  businesses.state = value;\n  return businesses;\n}\n\nDry.registerClass(\"Businesses\", Businesses);\n\nexport default Businesses;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Message {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      date: null,\n      sender: null,\n      receiver: null,\n      scores: {},\n    };\n\n    this.setState(props);\n    this._getHook = null;\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  getSender(){\n    if (this._getHook){\n      return this._getHook(this.state.sender);\n    }\n    else {\n      return this.state.sender;\n    }\n  }\n\n  getReceiver(){\n    if (this._getHook){\n      return this._getHook(this.state.receiver);\n    }\n    else {\n      return this.state.receiver;\n    }\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.date = setState(state.date);\n      this.state.sender = setState(state.sender);\n      this.state.receiver = setState(state.receiver);\n      this.state.scores = setState(state.scores, {});\n    }\n  }\n\n  toString(){\n    return `Message(name=${this.state.name} ` +\n           `${this.state.sender}=>${this.state.receiver})`;\n  }\n\n  toEdge(){\n    let weight = 1.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n\n      if (!weight){\n        weight = 1.0;\n      }\n    }\n\n    let color = 'red';\n\n    if (weight > 10.0){\n      weight = 10.0;\n    }\n    else if (weight >= 4){\n      color = 'black';\n    }\n    else if (weight > 1.0){\n      color = 'gray';\n    }\n    else{\n      color = 'gray';\n      weight = 1.0;\n    }\n\n    let edge = {\n      id:this.getID(),\n      from:this.state.sender,\n      to:this.state.receiver,\n      size:weight,\n      color:color,\n    };\n\n    return edge;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nMessage.unDry = function(value){\n  return new Message(value);\n}\n\nMessage.load = function(data, people=null){\n  return new Message({name: data.name});\n}\n\nDry.registerClass(\"Message\", Message);\n\nexport default Message;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\nimport vis from \"vis-network\";\n\nimport Message from \"./Message\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_message_uid(){\n  let uid = uuidv4();\n  return \"M\" + uid.substring(uid.length-7);\n}\n\nclass Messages {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(message){\n    if (!(message instanceof Message)){ return;}\n\n    let id = message.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Message ID ${message}`);\n      }\n\n      this.state.registry[id] = message;\n    }\n    else{\n      let uid = _generate_message_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_message_uid();\n      }\n\n      message.state.id = uid;\n      this.state.registry[uid] = message;\n    }\n  }\n\n  get(id){\n    let message = this.state.registry[id];\n\n    if (message === null){\n      throw MissingError(`No Message with ID ${id}`);\n    }\n\n    return message;\n  }\n\n  getConnectionsTo(item){\n    let id = item.getID();\n\n    let connections = [];\n    let seen = {};\n\n    for (let key in this.state.registry){\n      let message = this.state.registry[key];\n      let n = null;\n\n      if (message.state.sender === id){\n        n = this._getHook(message.state.receiver);\n      }\n      else if (message.state.receiver === id){\n        n = this._getHook(message.state.sender);\n      }\n\n      if (n){\n        let n_id = n.getID();\n        if (!(n_id in seen)){\n          connections.push(n);\n          seen[n_id] = 1;\n        }\n      }\n    }\n\n    return connections;\n  }\n\n  getEdges(){\n    let edges = new vis.DataSet();\n\n    for (let key in this.state.registry){\n      let message = this.state.registry[key];\n      edges.add(message.toEdge());\n    }\n\n    return edges;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nMessages.unDry = function(value){\n  let messages = new Messages();\n  messages.state = value;\n  return messages;\n}\n\nDry.registerClass(\"Messages\", Messages);\n\nexport default Messages;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Position {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      sources: [],\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Position(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPosition.unDry = function(value){\n  return new Position(value);\n}\n\nDry.registerClass(\"Position\", Position);\n\nexport default Position;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Position from \"./Position\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_position_uid(){\n  let uid = uuidv4();\n  return \"Q\" + uid.substring(uid.length-7);\n}\n\nclass Positions {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(position){\n    if (!(position instanceof Position)){ return;}\n\n    let id = position.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Position ID ${position}`);\n      }\n\n      this.state.registry[id] = position;\n    }\n    else{\n      let uid = _generate_position_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_position_uid();\n      }\n\n      position.state.id = uid;\n      this.state.registry[uid] = position;\n    }\n  }\n\n  get(id){\n    let position = this.state.registry[id];\n\n    if (position === null){\n      throw MissingError(`No Position with ID ${id}`);\n    }\n\n    return position;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nPositions.unDry = function(value){\n  let positions = new Positions();\n  positions.state = value;\n  return positions;\n}\n\nDry.registerClass(\"Positions\", Positions);\n\nexport default Positions;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Affiliation {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      sources: [],\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Affiliation(${this.getName()})`;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nAffiliation.unDry = function(value){\n  return new Affiliation(value);\n}\n\nDry.registerClass(\"Affiliation\", Affiliation);\n\nexport default Affiliation;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Affiliation from \"./Affiliation\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_affiliation_uid(){\n  let uid = uuidv4();\n  return \"A\" + uid.substring(uid.length-7);\n}\n\nclass Affiliations {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(affiliation){\n    if (!(affiliation instanceof Affiliation)){ return;}\n\n    let id = affiliation.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Affiliation ID ${affiliation}`);\n      }\n\n      this.state.registry[id] = affiliation;\n    }\n    else{\n      let uid = _generate_affiliation_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_affiliation_uid();\n      }\n\n      affiliation.state.id = uid;\n      this.state.registry[uid] = affiliation;\n    }\n  }\n\n  get(id){\n    let affiliation = this.state.registry[id];\n\n    if (affiliation === null){\n      throw MissingError(`No Affiliation with ID ${id}`);\n    }\n\n    return affiliation;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nAffiliations.unDry = function(value){\n  let affiliations = new Affiliations();\n  affiliations.state = value;\n  return affiliations;\n}\n\nDry.registerClass(\"Affiliations\", Affiliations);\n\nexport default Affiliations;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Source {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Source(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nSource.unDry = function(value){\n  return new Source(value);\n}\n\nDry.registerClass(\"Source\", Source);\n\nexport default Source;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Source from \"./Source\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_source_uid(){\n  let uid = uuidv4();\n  return \"S\" + uid.substring(uid.length-7);\n}\n\nclass Sources {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(source){\n    if (!(source instanceof Source)){ return;}\n\n    let id = source.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Source ID ${source}`);\n      }\n\n      this.state.registry[id] = source;\n    }\n    else{\n      let uid = _generate_source_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_source_uid();\n      }\n\n      source.state.id = uid;\n      this.state.registry[uid] = source;\n    }\n  }\n\n  get(id){\n    let source = this.state.registry[id];\n\n    if (source === null){\n      throw MissingError(`No Source with ID ${id}`);\n    }\n\n    return source;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nSources.unDry = function(value){\n  let sources = new Sources();\n  sources.state = value;\n  return sources;\n}\n\nDry.registerClass(\"Sources\", Sources);\n\nexport default Sources;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Note {\n  constructor(props){\n    this.state = {\n      text: null,\n      id: null,\n      sources: [],\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.text = setState(state.text);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Note(${this.getText()})`;\n  }\n\n  getText(){\n    return this.state.text;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nNote.unDry = function(value){\n  return new Note(value);\n}\n\nDry.registerClass(\"Note\", Note);\n\nexport default Note;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Note from \"./Note\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_note_uid(){\n  let uid = uuidv4();\n  return \"N\" + uid.substring(uid.length-7);\n}\n\nclass Notes {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(note){\n    if (!(note instanceof Note)){ return;}\n\n    let id = note.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Note ID ${note}`);\n      }\n\n      this.state.registry[id] = note;\n    }\n    else{\n      let uid = _generate_note_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_note_uid();\n      }\n\n      note.state.id = uid;\n      this.state.registry[uid] = note;\n    }\n  }\n\n  get(id){\n    let note = this.state.registry[id];\n\n    if (note === null){\n      throw MissingError(`No Note with ID ${id}`);\n    }\n\n    return note;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nNotes.unDry = function(value){\n  let notes = new Notes();\n  notes.state.registry = value;\n  return notes;\n}\n\nDry.registerClass(\"Notes\", Notes);\n\nexport default Notes;\n","\nimport Dry from 'json-dry';\n\nfunction setState(val, def=null){\n    if (val){\n      return val;\n    } else {\n      return def;\n    }\n  }\n\nclass DateRange{\n  constructor(value){\n    this.state = {\n      start: null,\n      end: null\n    }\n\n    this.setState(value);\n  }\n\n  setState(state){\n    if (state){\n      if (state === \"null\"){ return; }\n      this.state.start = setState(state.start);\n      this.state.end = setState(state.end);\n    }\n  }\n\n  toDry(){\n    return this.state;\n  }\n}\n\nDateRange.unDry = function(value){\n  return new DateRange(value);\n}\n\nDry.registerClass(\"DateRange\", DateRange);\n\nexport default DateRange;\n","\nimport Dry from 'json-dry';\nimport People from './People';\nimport Businesses from './Businesses';\nimport Messages from './Messages';\nimport Positions from './Positions';\nimport Affiliations from './Affiliations';\nimport Sources from './Sources';\nimport Notes from './Notes';\nimport DateRange from './DateRange';\n\nclass Social {\n    constructor(props){\n        this.state = props;\n    }\n\n    _updateHooks(){\n        let getHook = (id)=>{return this.get(id);};\n\n        let state = {};\n\n        if (!(this.state.people instanceof People)){\n           state.people = new People();\n        }\n        else{\n            state.people = this.state.people;\n        }\n\n        if (!(this.state.businesses instanceof Businesses)){\n            state.businesses = new Businesses();\n        }\n        else{\n            state.businesses = this.state.businesses;\n        }\n\n        if (!(this.state.messages instanceof Messages)){\n            state.messages = new Messages();\n        }else{\n            state.messages = this.state.messages;\n        }\n\n        if (!(this.state.positions instanceof Positions)){\n            state.positions = new Positions();\n        }\n        else{\n            state.positions = this.state.positions;\n        }\n\n        if (!(this.state.affiliations instanceof Affiliations)){\n            state.affiliations = new Affiliations();\n        }\n        else{\n            state.affiliations = this.state.affiliations;\n        }\n\n        if (!(this.state.sources instanceof Sources)){\n            state.sources = new Sources();\n        }\n        else{\n            state.sources = this.state.sources;\n        }\n\n        if (!(this.state.notes instanceof Notes)){\n            state.notes = new Notes();\n        }\n        else{\n            state.notes = this.state.notes;\n        }\n\n        this.state = state;\n\n        for (let key in this.state){\n          this.state[key]._updateHooks(getHook);\n        }\n    }\n\n    getPeople(){\n        return this.state.people;\n    }\n\n    getBusinesses(){\n        return this.state.businesses;\n    }\n\n    getMessages(){\n      return this.state.messages;\n    }\n\n    getAffiliations(){\n      return this.state.affiliations;\n    }\n\n    getPositions(){\n      return this.state.positions;\n    }\n\n    getSources(){\n      return this.state.sources;\n    }\n\n    getNotes(){\n      return this.state.notes;\n    }\n\n    getConnectionsTo(item){\n      return this.getMessages().getConnectionsTo(item);\n    }\n\n    getGraph({anchor=null, node_filter=null, group_filter=null} = {}){\n      if (anchor){\n        anchor = this.getPeople().find(anchor);\n      }\n\n      if (node_filter){\n          let id = node_filter.getID();\n          let connections = this.getConnectionsTo(node_filter);\n          node_filter = {};\n          node_filter[id] = 1;\n          for (let connection in connections){\n              let node = connections[connection];\n              node_filter[node.getID()] = 1;\n          }\n      }\n\n      let nodes = this.getPeople().getNodes({anchor:anchor,\n                                             node_filter:node_filter,\n                                             group_filter:group_filter});\n      nodes.add(this.getBusinesses().getNodes({group_filter:group_filter,\n                                               node_filter:node_filter}).get());\n\n      let edges = this.getMessages().getEdges();\n\n      return {\"nodes\": nodes, \"edges\": edges};\n    }\n\n    get(id){\n        if (id[0] === \"M\"){\n            return this.getMessages().get(id);\n        }\n        else if (id[0] === \"P\"){\n            return this.getPeople().get(id);\n        }\n        else if (id[0] === \"B\"){\n            return this.getBusinesses().get(id);\n        }\n        else if (id[0] === \"Q\"){\n            return this.getPositions().get(id);\n        }\n        else if (id[0] === \"A\"){\n            return this.getAffiliations().get(id);\n        }\n        else if (id[0] === \"S\"){\n            return this.getSources().get(id);\n        }\n        else if (id[0] === \"N\"){\n            return this.getNotes().get(id);\n        }\n        else {\n            return id;\n        }\n    }\n\n    toDry(){\n        return {value: this.state};\n    }\n}\n\nSocial.unDry = function(value){\n    let social = new Social();\n    social.state = value;\n    social._updateHooks();\n\n    return social;\n}\n\nDry.registerClass(\"Social\", Social);\n\nexport default Social;\n","\n// package imports\nimport React from 'react';\nimport Dry from 'json-dry';\n\n// Brunel components\nimport SocialGraph from \"./components/SocialGraph\";\nimport InfoBox from \"./components/InfoBox\";\nimport TimeLineBox from './components/TimeLineBox';\nimport SlidingPanel from './components/SlidingPanel';\nimport ConnectionList from './components/ConnectionList';\nimport GroupsList from './components/GroupsList';\n\n// Brunel model\nimport Social from './model/Social';\nimport Person from './model/Person';\nimport Business from './model/Business';\nimport Message from './model/Message';\n\n// Data for import\nimport graph_data from './data.json';\n\n// Styling for the app\nimport styles from './SocialApp.module.css'\n\n\nclass SocialApp extends React.Component {\n  constructor(props){\n    super(props);\n\n    let title = \"Isambard's Social Network\";\n    let image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Robert_Howlett_-_Isambard_Kingdom_Brunel_and_the_launching_chains_of_the_Great_Eastern_-_Google_Art_Project.jpg/256px-Robert_Howlett_-_Isambard_Kingdom_Brunel_and_the_launching_chains_of_the_Great_Eastern_-_Google_Art_Project.jpg\";\n    let text = (<div><div>This is an interactive viewer of Isambard Kingdom Brunel's\n                     social network. Please click in the nodes and have fun!</div>\n                     <button href=\"#\" className={styles.controlButton}\n                     onClick={()=>{this.resetFilters()}}>Reset Filters</button>\n                </div>);\n\n    let social = Dry.parse(graph_data);\n    console.log(social);\n\n    if (!(social instanceof Social )){\n      console.log(\"Could not parse!\");\n      social = new Social();\n    }\n\n    let group_filter = null;\n    let person_filter = null;\n    let anchor = \"Brunel\";\n\n    this.state = {\n      default_data: {\"title\": title, \"image\": image, \"text\": text},\n      infobox_data: {\"title\": title, \"image\": image, \"text\": text},\n      social: social,\n      graph: social.getGraph({anchor:anchor, group_filter:group_filter,\n                              person_filter: person_filter}),\n      group_filter: group_filter,\n      person_filter: person_filter,\n      anchor: anchor,\n      isInfoPanelOpen: false,\n      isTimeLinePanelOpen: false,\n      timeline: new TimeLineBox(),\n    };\n  }\n\n  resetFilters(node){\n    let node_filter = null;\n    let group_filter = null;\n    let anchor = this.state.anchor;\n    let social = this.state.social;\n\n    let graph = social.getGraph({anchor:anchor, node_filter:node_filter,\n                                 group_filter:group_filter});\n\n    this.setState({graph:graph, node_filter:node_filter,\n                   group_filter:group_filter});\n  }\n\n  selectNode(node){\n    let group_filter = this.state.group_filter;\n    let node_filter = this.state.node_filter;\n    let anchor = this.state.anchor;\n    let social = this.state.social;\n\n    if (node === node_filter){\n      // switch off the current filter\n      node_filter = null;\n    }\n    else{\n      node_filter = node;\n    }\n\n    //create a new graph with this filter\n    let graph = social.getGraph({anchor:anchor,\n                                 group_filter:group_filter,\n                                 node_filter: node_filter});\n\n    this.setState({node_filter: node_filter, graph: graph});\n  }\n\n  selectGroup(group){\n    let group_filter = this.state.group_filter;\n    let node_filter = this.state.node_filter;\n    let anchor = this.state.anchor;\n    let social = this.state.social;\n\n    if (group === group_filter){\n      // switch off the current filter\n      group_filter = null;\n    }\n    else{\n      group_filter = group;\n    }\n\n    //create a new graph with this filter\n    let graph = social.getGraph({anchor:anchor,\n                                 group_filter:group_filter,\n                                 node_filter: node_filter});\n\n    this.setState({group_filter: group_filter, graph: graph});\n  }\n\n  getBiography(item){\n    let name = \"unknown\";\n    let affiliations = [];\n    let positions = [];\n\n    let social = this.state.social;\n    let connections = social.getConnectionsTo(item);\n\n    if (item.getAffiliations){\n      let a = item.getAffiliations();\n      for (let val in a){\n        affiliations.push(a[val][0]);\n      }\n    }\n\n    if (item.getPositions){\n      let p = item.getPositions();\n      for (let val in p){\n        positions.push(p[val][0]);\n      }\n    }\n\n    if (item.getName){\n      name = item.getName();\n    }\n\n    return (\n      <div>\n        <button href=\"#\" className={styles.controlButton}\n                onClick={()=>{this.selectNode(item);}}>\n          {name}\n        </button>\n        <GroupsList title=\"Affiliations\"\n                    groups={affiliations}\n                    emitClicked={(item)=>{this.selectGroup(item);}}/>\n        <GroupsList title=\"Positions\"\n                    groups={positions}\n                    emitClicked={(item)=>{this.selectGroup(item);}}/>\n        <ConnectionList title=\"Connections\"\n                  connections={connections}\n                  emitClicked={(item)=>{this.showInfo(item);}}/>\n      </div>\n    );\n  }\n\n  showInfo(item){\n    console.log(\"showInfo\");\n    console.log(item);\n    let newdata = {...this.state.default_data};\n\n    if (item instanceof Person){\n      newdata.title = \"Person\";\n      newdata.text = this.getBiography(item);\n      newdata.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Illustrirte_Zeitung_%281843%29_21_332_1_Das_vom_Stapellaufen_des_Great-Britain.PNG/640px-Illustrirte_Zeitung_%281843%29_21_332_1_Das_vom_Stapellaufen_des_Great-Britain.PNG\";\n    }\n    else if (item instanceof Business){\n      newdata.title = \"Business\";\n      newdata.text = this.getBiography(item);\n      newdata.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/SS_Great_Britain_diagram.jpg/320px-SS_Great_Britain_diagram.jpg\";\n    }\n    else if (item instanceof Message){\n      newdata.title = \"Message\";\n\n      let sender = item.getSender();\n      if (sender.getName){\n        let node = sender;\n        sender = <button href=\"#\" onClick={()=>this.showInfo(node)}\n                    className={styles.controlButton}>\n                    {sender.getName()}\n                 </button>;\n      }\n\n      let receiver = item.getReceiver();\n      if (receiver.getName){\n        let node = receiver;\n        receiver = <button href=\"#\" onClick={()=>this.showInfo(node)}\n                     className={styles.controlButton}>\n                     {receiver.getName()}\n                   </button>;\n      }\n\n      newdata.text = <span>Message from {sender} to {receiver}</span>;\n      newdata.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/SS_Great_Britain_transverse_section.jpg/320px-SS_Great_Britain_transverse_section.jpg\";\n    }\n\n    this.setState({infobox_data:newdata,\n                   isInfoPanelOpen:true});\n  }\n\n  slotClicked(id){\n    if (!id){\n      this.setState({isInfoPanelOpen:false,\n                     isTimeLinePanelOpen:false});\n      return;\n    }\n\n    const social = this.state.social;\n    const item = social.get(id);\n    this.showInfo(item);\n  }\n\n  toggleInfoPanel(){\n    this.setState({isInfoPanelOpen: !(this.state.isInfoPanelOpen)});\n  }\n\n  toggleTimeLinePanel(){\n    this.setState({isTimeLinePanelOpen: !(this.state.isTimeLinePanelOpen)});\n  }\n\n  render(){\n    let data = this.state.infobox_data;\n    let node_filter = this.state.node_filter;\n    let group_filter = this.state.group_filter;\n\n    let filter_text = null;\n\n    if (node_filter){\n      filter_text = `${node_filter}`;\n    }\n\n    if (group_filter){\n      let text = `${group_filter}`;\n      if (filter_text){\n        filter_text = `${filter_text} and ${text}`;\n      }\n      else{\n        filter_text = text;\n      }\n    }\n\n    if (filter_text){\n      filter_text = `Filtered by ${filter_text}.`;\n    }\n\n    return (\n      <div>\n        <SlidingPanel isOpen={this.state.isTimeLinePanelOpen}\n                      position='bottom'>\n          {this.state.timeline.render()}\n        </SlidingPanel>\n        <SlidingPanel isOpen={this.state.isInfoPanelOpen}\n                      position='right'>\n          <InfoBox title={data.title} text={data.text}\n                   image={data.image} />\n        </SlidingPanel>\n        <div>\n          <span>\n            <button onClick={() => this.toggleInfoPanel()}\n                    className={styles.controlButton}>\n              Info\n            </button> | <button onClick={() => this.toggleTimeLinePanel()}\n                                className={styles.controlButton}>\n              Timeline\n            </button> | <button onClick={() => this.resetFilters()}\n                                className={styles.controlButton}>\n              Reset Filters\n            </button>\n          </span>\n          <span style={{position:\"absolute\", \"right\": 0}}>\n            {filter_text} See the\n            source <a href=\"https://github.com/chryswoods/brunel\">\n            on GitHub</a>\n          </span>\n        </div>\n        <SocialGraph graph={this.state.graph}\n                     emitClicked={(id)=>this.slotClicked(id)}\n                     anchor={this.state.anchor} />\n      </div>\n    );\n  }\n};\n\n/*        <SlidingPanel\n          isOpen={ this.state.isTimeLinePanelOpen }\n          title='Timeline'\n          from='bottom'\n          width=\"100%\"\n          onRequestClose={() => this.setState({isTimeLinePanelOpen: false})}>\n          {this.state.timeline.render()}\n        </SlidingPanel>\n*/\n\nexport default SocialApp;\n"],"sourceRoot":""}