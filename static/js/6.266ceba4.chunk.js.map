{"version":3,"sources":["version8/components/SlidingPanel.module.css","version8/components/transitions/SlideFromLeft.module.css","version8/components/transitions/SlideFromRight.module.css","version8/components/transitions/SlideFromBottom.module.css","version8/components/transitions/SlideFromTop.module.css","version8/components/ConnectionList.module.css","version8/components/GroupsList.module.css","version8/SocialApp.module.css","version8/components/SocialGraph.js","version8/components/InfoBox.js","version8/components/TimeLineBox.js","../node_modules/dom-helpers/esm/removeClass.js","../node_modules/react-transition-group/esm/config.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/Transition.js","../node_modules/react-transition-group/esm/CSSTransition.js","../node_modules/dom-helpers/esm/addClass.js","../node_modules/dom-helpers/esm/hasClass.js","version8/components/SlidingPanel.js","version8/components/ConnectionList.js","version8/components/GroupsList.js","version8/model/Person.js","version8/model/Errors.js","version8/model/People.js","version8/model/Business.js","version8/model/Businesses.js","version8/model/Message.js","version8/model/Messages.js","version8/model/Position.js","version8/model/Positions.js","version8/model/Affiliation.js","version8/model/Affiliations.js","version8/model/Source.js","version8/model/Sources.js","version8/model/Note.js","version8/model/Notes.js","version8/model/DateRange.js","version8/model/Social.js","version8/SocialApp.js"],"names":["module","exports","fast_physics","enabled","timestep","options","height","width","layout","randomSeed","manipulation","initiallyActive","interaction","navigationButtons","edges","shadow","smooth","type","roundness","physics","SocialGraph","props","state","network","dimensions","updateSize","bind","this","setState","container","offsetWidth","offsetHeight","window","addEventListener","removeEventListener","params","emitClicked","graph","id","nodes","length","get","console","log","fit","my_options","events","click","handleClick","resize","handleResize","ref","el","style","getNetwork","React","Component","InfoBox","Card","body","outline","color","overflowY","CardHeader","align","title","CardImg","top","src","image","CardBody","text","basicExample","start","end","items","content","TimeLineBox","selectedIds","replaceClassName","origClass","classToRemove","replace","RegExp","createContext","UNMOUNTED","EXITED","ENTERING","ENTERED","_React$Component","Transition","context","_this","call","initialStatus","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","getDerivedStateFromProps","_ref","prevState","_proto","prototype","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","undefined","mounting","node","findDOMNode","performEnter","performExit","_this2","appearing","timeouts","enterTimeout","config","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","nextState","callback","setNextCallback","_this4","active","event","handler","doesNotHaveTimeoutOrListener","addEndListener","setTimeout","render","_this$props","children","childProps","createElement","TransitionGroupContext","Provider","value","child","Children","only","cloneElement","noop","contextType","propTypes","defaultProps","EXITING","classes","split","forEach","c","className","element","classList","remove","setAttribute","baseVal","CSSTransition","_len","arguments","args","Array","_key","apply","concat","appliedClasses","removeClasses","addClass","getClassNames","classNames","isStringClassNames","baseClassName","activeClassName","doneClassName","phase","scrollTop","add","contains","indexOf","hasClass","_addClass","_this$appliedClasses$","base","done","SlidingPanel","isOpen","position","styles","rightContainer","transition","SlideFromRight","bottomContainer","SlideFromBottom","topContainer","SlideFromTop","leftContainer","SlideFromLeft","ConnectionList","connections","listitems","map","item","i","name","getName","key","href","class","button","onClick","GroupsList","groups","getID","val","def","Person","titles","firstnames","surnames","suffixes","positions","affiliations","projects","sources","scores","alive","gender","notes","_getHook","hook","join","parts","part","getTitle","push","getFirstName","getSurname","getSuffix","group","result","getStart","getEnd","is_anchor","label","shape","weight","keys","Object","sort","unDry","Dry","registerClass","KeyError","Error","captureStackTrace","MissingError","_generate_person_uid","uid","uuidv4","substring","People","registry","load","_updateHooks","search","person","anchor","group_filter","node_filter","vis","DataSet","p","getNode","inGroup","data","array","people","Business","_generate_business_uid","Businesses","business","b","businesses","Message","date","sender","receiver","from","to","size","_generate_message_uid","Messages","message","seen","n","n_id","toEdge","messages","Position","_generate_position_uid","Positions","Affiliation","_generate_affiliation_uid","Affiliations","affiliation","Source","_generate_source_uid","Sources","source","Note","getText","_generate_note_uid","Notes","note","DateRange","Social","getHook","getMessages","getConnectionsTo","getPeople","find","connection","getNodes","getBusinesses","getEdges","getPositions","getAffiliations","getSources","getNotes","social","SocialApp","controlButton","resetFilters","parse","graph_data","default_data","infobox_data","getGraph","person_filter","isInfoPanelOpen","isTimeLinePanelOpen","timeline","a","peopleButton","selectNode","selectGroup","showInfo","newdata","getBiography","getSender","getReceiver","filter_text","reset_button","filterText","graphContainer","slotClicked","toggleTimeLinePanel","citationText"],"mappings":"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","file":"static/js/6.266ceba4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SlidingPanel_container__kAOZX\",\"leftContainer\":\"SlidingPanel_leftContainer__3diQ4\",\"rightContainer\":\"SlidingPanel_rightContainer__2v4a0\",\"topContainer\":\"SlidingPanel_topContainer__3tQrd\",\"bottomContainer\":\"SlidingPanel_bottomContainer__2uaFH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromLeft_enter__1Co2y\",\"enterActive\":\"SlideFromLeft_enterActive__8rxSw\",\"exit\":\"SlideFromLeft_exit__AieR6\",\"exitActive\":\"SlideFromLeft_exitActive__21Xyj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromRight_enter__3DvEl\",\"enterActive\":\"SlideFromRight_enterActive__33hj2\",\"exit\":\"SlideFromRight_exit__2mBjK\",\"exitActive\":\"SlideFromRight_exitActive__36j60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromBottom_enter__ipcC8\",\"enterActive\":\"SlideFromBottom_enterActive__3CAeV\",\"exit\":\"SlideFromBottom_exit__3Ug4f\",\"exitActive\":\"SlideFromBottom_exitActive__3lIXO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromTop_enter__36drm\",\"enterActive\":\"SlideFromTop_enterActive__xcy7B\",\"exit\":\"SlideFromTop_exit__KFnXf\",\"exitActive\":\"SlideFromTop_exitActive__1T5vh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ConnectionList_button__1Xudf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"GroupsList_button__3BKvs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"module\":\"SocialApp_module__2JuL9\",\"controlButton\":\"SocialApp_controlButton__3pI3X\",\"graphContainer\":\"SocialApp_graphContainer__1ClD7\",\"bottomContainer\":\"SocialApp_bottomContainer__3eIku\",\"peopleButton\":\"SocialApp_peopleButton__3j5J7\"};","import React from \"react\";\nimport Graph from \"react-graph-vis\";\nimport vis from \"vis-network\";\n\nconst fast_physics = {\n  enabled: true,\n  timestep: 0.5,\n};\n\nconst slow_physics = {...fast_physics};\nslow_physics.timestep = 0.1;\n\nconst options = {\n  height: \"200px\",\n  width: \"200px\",\n  layout:{\n    randomSeed: 42,\n  },\n  manipulation:{\n    enabled: false,\n    initiallyActive: false,\n  },\n  interaction:{\n    navigationButtons: true,\n  },\n  edges:{\n    shadow: false,\n    smooth: {\n      enabled: true,\n      type: \"continuous\",\n      roundness: 0.3,\n    },\n    width: 0.5,\n  },\n  physics: fast_physics,\n};\n\nclass SocialGraph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      network: {},\n      dimensions: {height:300, width:600},\n    };\n\n    this.updateSize = this.updateSize.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      dimensions: {\n        width: this.container.offsetWidth,\n        height: this.container.offsetHeight,\n      },\n    });\n    window.addEventListener('resize', this.updateSize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateSize);\n  }\n\n  updateSize() {\n    this.setState({\n      dimensions: {\n        width: this.container.offsetWidth,\n        height: this.container.offsetHeight,\n      }\n    });\n  }\n\n  handleClick(params) {\n    let emitClicked = this.props.emitClicked;\n\n    if (emitClicked)\n    {\n      let graph = this.props.graph;\n\n      let id = null;\n\n      if (params.nodes.length > 0)\n      {\n        let node = graph.nodes.get(params.nodes[0]);\n        id = node.id;\n      }\n      else if (params.edges.length > 0)\n      {\n        let edge = graph.edges.get(params.edges[0]);\n        id = edge.id;\n      }\n\n      emitClicked(id);\n    }\n  }\n\n  handleResize(params){\n    // need to do this or else the network is rendered off-screen!\n    console.log(`RESIZE ${params}`);\n    let network = this.state.network;\n    network.fit();\n  }\n\n  render(){\n    let graph = this.props.graph;\n    let my_options = {...options};\n\n    // seem to need to do this so that the network will auto-scale\n    // as the screen is redrawn\n    my_options[\"height\"] = `${this.state.dimensions.height}px`;\n    my_options[\"width\"] = `${this.state.dimensions.width}px`;\n\n    if (graph){\n      let events = {click: (params) => {this.handleClick(params)},\n                    resize: (params) => {this.handleResize(params)}};\n\n      // need to enclose in a div that is set to take up 100% of the parent\n      // space and that holds a reference so that we can resize the\n      // graph as the parent resizes\n      return (<div ref={el => (this.container = el)}\n                   style={{width:\"100%\", height:\"100%\"}}>\n                <Graph\n                     graph={{nodes:graph.nodes.get(),\n                             edges:graph.edges.get()}}\n                     options={my_options}\n                     events={events}\n                     getNetwork={network =>\n                                  this.setState({network:network})} />\n              </div>\n             );\n    }\n    else{\n      return (<div ref={el => (this.container = el)}>\n                No data to display!!!\n              </div>);\n    }\n  }\n};\n\nexport default SocialGraph;\n","import React from \"react\";\nimport { Card, CardHeader, CardBody, CardImg } from 'reactstrap';\n\nfunction InfoBox(props) {\n  return (\n    <Card body outline color=\"secondary\" style={{height:\"100%\", overflowY:\"scroll\"}}>\n        <CardHeader align=\"center\">{props.title}</CardHeader>\n        <CardImg top width=\"100%\" src={props.image} />\n        <CardBody>\n        {props.text}\n        </CardBody>\n    </Card>\n  );\n};\n\nexport default InfoBox;\n","import React, { Component } from 'react'\nimport Timeline from 'react-visjs-timeline'\n\nconst basicExample = {\n  options: {\n    start: '2014-04-10',\n    end: '2014-04-30',\n  },\n  items: [\n    { id: 1, content: 'item 1', start: '2014-04-20' },\n    { id: 2, content: 'item 2', start: '2014-04-14' },\n    { id: 3, content: 'item 3', start: '2014-04-18' },\n    { id: 4, content: 'item 4', start: '2014-04-16', end: '2014-04-19' },\n    { id: 5, content: 'item 5', start: '2014-04-25' },\n    { id: 6, content: 'item 6', start: '2014-04-27', type: 'point' },\n  ],\n}\n\nclass TimeLineBox extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selectedIds: [],\n    }\n  }\n\n  render() {\n    return (\n        <Timeline {...basicExample} />\n    )\n  }\n}\n\nexport default TimeLineBox\n","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    ;\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  }; // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n      var node = ReactDOM.findDOMNode(this);\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(node, mounting);\n      } else {\n        this.performExit(node);\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(node, mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(node);\n      });\n      return;\n    }\n\n    this.props.onEnter(node, appearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(node, appearing);\n\n      _this2.onTransitionEnd(node, enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node, appearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit(node) {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(node);\n      });\n      return;\n    }\n\n    this.props.onExit(node);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(node);\n\n      _this3.onTransitionEnd(node, timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n    this.setNextCallback(handler);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(node, this.nextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\"]); // filter props for Transtition\n\n\n    delete childProps.in;\n    delete childProps.mountOnEnter;\n    delete childProps.unmountOnExit;\n    delete childProps.appear;\n    delete childProps.enter;\n    delete childProps.exit;\n    delete childProps.timeout;\n    delete childProps.addEndListener;\n    delete childProps.onEnter;\n    delete childProps.onEntering;\n    delete childProps.onEntered;\n    delete childProps.onExit;\n    delete childProps.onExiting;\n    delete childProps.onExited;\n\n    if (typeof children === 'function') {\n      // allows for nested Transitions\n      return React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, children(status, childProps));\n    }\n\n    var child = React.Children.only(children);\n    return (// allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, React.cloneElement(child, childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Normally a component is not transitioned if it is shown when the\n   * `<Transition>` component mounts. If you want to transition on the first\n   * mount set `appear` to `true`, and the component will transition in as soon\n   * as the `<Transition>` mounts.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. **Note:** Timeouts are still used as a fallback if provided.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func // Name the function so it is clearer in the documentation\n\n} : {};\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = 0;\nTransition.EXITED = 1;\nTransition.ENTERING = 2;\nTransition.ENTERED = 3;\nTransition.EXITING = 4;\nexport default Transition;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](http://www.nganimate.org/) library, you should use it if you're\n * using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (node, appearing) {\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(node, appearing);\n      }\n    };\n\n    _this.onEntering = function (node, appearing) {\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(node, appearing);\n      }\n    };\n\n    _this.onEntered = function (node, appearing) {\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(node, appearing);\n      }\n    };\n\n    _this.onExit = function (node) {\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(node);\n      }\n    };\n\n    _this.onExiting = function (node) {\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(node);\n      }\n    };\n\n    _this.onExited = function (node) {\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(node);\n      }\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    if (type === 'appear' && phase === 'done') {\n      className += \" \" + this.getClassNames('enter').doneClassName;\n    } // This is for to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      /* eslint-disable no-unused-expressions */\n      node && node.scrollTop;\n    }\n\n    this.appliedClasses[type][phase] = className;\n\n    _addClass(node, className);\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided and it\n   * will be suffixed for each stage: e.g.\n   *\n   * `classNames=\"fade\"` applies `fade-appear`, `fade-appear-active`,\n   * `fade-appear-done`, `fade-enter`, `fade-enter-active`, `fade-enter-done`,\n   * `fade-exit`, `fade-exit-active`, and `fade-exit-done`.\n   *\n   * **Note**: `fade-appear-done` and `fade-enter-done` will _both_ be applied.\n   * This allows you to define different behavior for when appearing is done and\n   * when regular entering is done, using selectors like\n   * `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply an\n   * epic entrance animation when element first appears in the DOM using\n   * [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   * simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","export default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","\nimport React from \"react\";\nimport {CSSTransition} from \"react-transition-group\";\n\nimport styles from './SlidingPanel.module.css'\nimport SlideFromLeft from './transitions/SlideFromLeft.module.css';\nimport SlideFromRight from './transitions/SlideFromRight.module.css';\nimport SlideFromBottom from './transitions/SlideFromBottom.module.css';\nimport SlideFromTop from './transitions/SlideFromTop.module.css';\n\nfunction SlidingPanel({children, isOpen=false, position=\"right\", }){\n  let container = styles.rightContainer;\n  let transition = SlideFromRight;\n\n  if (position === \"right\"){\n    container = styles.rightContainer;\n    transition = SlideFromRight;\n  }\n  else if (position === \"bottom\"){\n    container = styles.bottomContainer;\n    transition = SlideFromBottom;\n  }\n  else if (position === \"top\"){\n    container = styles.topContainer;\n    transition = SlideFromTop;\n  }\n  else if (position === \"left\"){\n    container = styles.leftContainer;\n    transition = SlideFromLeft;\n  }\n\n  container = `${container} ${styles.container}`;\n\n  return (<CSSTransition in={isOpen}\n                         timeout={200}\n                         classNames={transition}\n                         unmountOnExit>\n            <div className={container}>\n              {children}\n            </div>\n          </CSSTransition>);\n};\n\nexport default SlidingPanel;\n","\nimport React from 'react';\n\nimport styles from './ConnectionList.module.css';\n\nfunction ConnectionList(props) {\n  const connections = props.connections;\n  const title = props.title;\n  const emitClicked = props.emitClicked;\n  if (!connections || connections.length === 0) {\n    return null;\n  }\n\n  const listitems = connections.map((item) => {\n    let i = item;\n    let name = item.getName();\n\n    if (emitClicked) {\n      return (<li key={name}>\n        <button href=\"#\" class={styles.button}\n          onClick={() => { emitClicked(i); }}>\n          {name}</button></li>);\n    }\n    else {\n      return (<li key={name}>{name}</li>);\n    }\n  });\n\n  return (<div>{title}<br /><ul>{listitems}</ul></div>);\n}\n\n\nexport default ConnectionList;\n","\nimport React from 'react';\n\nimport styles from './GroupsList.module.css';\n\nfunction GroupsList(props) {\n  const groups = props.groups;\n  const title = props.title;\n  const emitClicked = props.emitClicked;\n  if (!groups || groups.length === 0) {\n    return null;\n  }\n\n  const listitems = groups.map((item) => {\n    let i = item;\n    let name = item;\n\n    if (item.getName) {\n      name = item.getName();\n    }\n    else if (item.getID) {\n      name = item.getID();\n    }\n\n    if (emitClicked) {\n      return (<li key={name}>\n        <button href=\"#\" onClick={() => { emitClicked(i); }}\n          class={styles.button}>\n          {name}</button></li>);\n    }\n    else {\n      return (<li key={name}>{name}</li>);\n    }\n  });\n\n  return (<div>{title}<br /><ul>{listitems}</ul></div>);\n}\n\nexport default GroupsList;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Person {\n  constructor(props){\n    this.state = {\n      titles: [],\n      firstnames: [],\n      surnames: [],\n      suffixes: [],\n      id: null,\n      positions: {},\n      affiliations: {},\n      projects: {},\n      sources: [],\n      scores: {},\n      alive: null,\n      gender: null,\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.titles = setState(state.titles);\n      this.state.firstnames = setState(state.firstnames);\n      this.state.surnames = setState(state.surnames);\n      this.state.suffixes = setState(state.suffixes);\n      this.state.id = setState(state.id);\n      this.state.positions = setState(state.positions, {});\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.projects = setState(state.projects, {});\n      this.state.sources = setState(state.sources, []);\n      this.state.alive = setState(state.alive);\n      this.state.gender = setState(state.gender);\n      this.state.scores = setState(state.scores, {});\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Person(${this.getName()})`;\n  }\n\n  getFirstName(){\n    if (this.state.firstnames){\n      return this.state.firstnames.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getTitle(){\n    if (this.state.titles){\n      return this.state.titles.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getSurname(){\n    if (this.state.surnames){\n      return this.state.surnames.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getSuffix(){\n    if (this.state.suffixes){\n      return this.state.suffixes.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getName(){\n    var parts = [];\n\n    let part = this.getTitle();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getFirstName();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getSurname();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getSuffix();\n    if (part){\n      parts.push(part);\n    }\n\n    if (parts.length > 0){\n       return parts.join(\" \");\n    }\n    else{\n      return \"null\";\n    }\n  }\n\n  inGroup(group){\n    return (group in this.state.positions || group in this.state.affiliations);\n  }\n\n  getPositions(){\n    let result = [];\n\n    for (let key in this.state.positions){\n      let value = this.state.positions[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getAffiliations(){\n    let result = [];\n\n    for (let key in this.state.affiliations){\n      let value = this.state.affiliations[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getScores(){\n    return this.state.scores;\n  }\n\n  getBorn(){\n    if (this.state.alive){\n      return this.state.alive.getStart();\n    }\n    else{\n      return null;\n    }\n  }\n\n  getDied(){\n    if (this.state.alive){\n      return this.state.alive.getEnd();\n    }\n    else{\n      return null;\n    }\n  }\n\n  getNode(is_anchor=false){\n    let node = {id: this.getID(),\n                label: this.getName(),\n                title: this.getName(),\n                shape: \"dot\",\n               };\n\n    let weight = 10.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n      if (!weight){\n        weight = 10.0;\n      }\n    }\n\n    if (weight < 5.0){\n      weight = 5.0;\n    }\n    else if (weight > 20.0){\n      weight = 20.0;\n    }\n\n    node[\"size\"] = weight;\n\n    let keys = Object.keys(this.state.affiliations);\n\n    if (keys.length > 0){\n      node[\"group\"] = keys.sort().join(\":\");\n    }\n    else{\n      node[\"group\"] = \"unknown\";\n    }\n\n    if (is_anchor){\n      node[\"shape\"] = \"star\";\n      node[\"physics\"] = false;\n      node[\"group\"] = \"anchor\";\n      node[\"size\"] = 20.0;\n    }\n\n    return node;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPerson.unDry = function(value){\n  return new Person(value);\n}\n\nDry.registerClass(\"Person\", Person);\n\nexport default Person;\n","\nclass KeyError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, KeyError)\n    }\n}\n\nclass ValueError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, ValueError)\n    }\n}\n\nclass DuplicateError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, DuplicateError)\n    }\n}\n\nclass MissingError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, MissingError)\n    }\n}\n\nexport {KeyError, ValueError, DuplicateError, MissingError};\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\nimport vis from \"vis-network\";\n\nimport Person from \"./Person\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_person_uid(){\n  let uid = uuidv4();\n  return \"P\" + uid.substring(uid.length-7);\n}\n\nclass People {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n\n    this._getHook = null;\n\n    this.load(props);\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  find(name){\n    for (let key in this.state.registry){\n      let person = this.state.registry[key];\n      if (person.getName().search(name) !== -1){\n        return key;\n      }\n    }\n\n    return null;\n  }\n\n  add(person){\n    if (!(person instanceof Person)){ return;}\n\n    let id = person.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Person ID ${person}`);\n      }\n\n      this.state.registry[id] = person;\n    }\n    else{\n      let uid = _generate_person_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_person_uid();\n      }\n\n      person.state.id = uid;\n      this.state.registry[uid] = person;\n    }\n  }\n\n  getNodes({anchor=null, group_filter=null, node_filter=null} = {}){\n    let nodes = new vis.DataSet();\n\n    if (group_filter){\n      group_filter = group_filter.getID();\n    }\n\n    for (let person in this.state.registry){\n      let p = this.state.registry[person];\n      if (person === anchor){\n        nodes.add(p.getNode({is_anchor:true}));\n      }\n      else if (node_filter){\n        if (p.getID() in node_filter){\n          if (group_filter){\n            if (p.inGroup(group_filter)){\n              nodes.add(p.getNode());\n            }\n          }\n          else{\n            nodes.add(p.getNode());\n          }\n        }\n      }\n      else if (group_filter){\n        if (p.inGroup(group_filter)){\n          nodes.add(p.getNode());\n        }\n      }\n      else{\n        nodes.add(p.getNode());\n      }\n    }\n\n    return nodes;\n  }\n\n  get(id){\n    let person = this.state.registry[id];\n\n    if (person === null){\n      throw MissingError(`No Person with ID ${id}`);\n    }\n\n    return person;\n  }\n\n  load(data){\n    if (data){\n      if (data.array){ data = data.array; }\n      data.forEach(element => {\n        let person = Person.load(element);\n        this.add(person);\n      });\n    }\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPeople.unDry = function(value){\n  let people = new People();\n  people.state = value;\n  return people;\n}\n\nDry.registerClass(\"People\", People);\n\nexport default People;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Business {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      projects: {},\n      sources: [],\n      scores: {},\n      affiliations: {},\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.projects = setState(state.projects, {});\n      this.state.sources = setState(state.sources, []);\n      this.state.scores = setState(state.scores, {});\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Business(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  inGroup(group){\n    return group in this.state.affiliations;\n  }\n\n  getAffiliations(){\n    let result = [];\n\n    for (let key in this.state.affiliations){\n      let value = this.state.affiliations[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getScores(){\n    return this.state.scores;\n  }\n\n  getNode(is_anchor=false){\n    let node = {\n      id: this.getID(),\n      label: this.getName(),\n      title: this.getName(),\n      shape: \"dot\",\n     };\n\n    let weight = 1.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n      if (!weight){\n        weight = 1.0;\n      }\n    }\n\n    if (weight < 5.0){\n      weight = 5.0;\n    }\n    else if (weight > 20.0){\n      weight = 20.0;\n    }\n\n    node[\"size\"] = weight;\n\n    let keys = Object.keys(this.state.affiliations);\n\n    if (keys.length > 0){\n      node[\"group\"] = keys.sort().join(\":\");\n    }\n\n    if (is_anchor){\n      node[\"shape\"] = \"star\";\n      node[\"physics\"] = false;\n      node[\"group\"] = \"anchor\";\n      node[\"size\"] = 20.0;\n    }\n\n    return node;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nBusiness.unDry = function(value){\n  return new Business(value);\n}\n\nDry.registerClass(\"Business\", Business);\n\nexport default Business;\n","\nimport Dry from 'json-dry';\nimport vis from 'vis-network';\nimport uuidv4 from 'uuid';\n\nimport Business from \"./Business\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_business_uid(){\n  let uid = uuidv4();\n  return \"B\" + uid.substring(uid.length-7);\n}\n\nclass Businesses {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(business){\n    if (!(business instanceof Business)){ return;}\n\n    let id = business.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Business ID ${Business}`);\n      }\n\n      this.state.registry[id] = business;\n    }\n    else{\n      let uid = _generate_business_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_business_uid();\n      }\n\n      business.state.id = uid;\n      this.state.registry[uid] = business;\n    }\n  }\n\n  get(id){\n    let business = this.state.registry[id];\n\n    if (business === null){\n      throw MissingError(`No Business with ID ${id}`);\n    }\n\n    return business;\n  }\n\n\n  getNodes({anchor=null, group_filter=null, node_filter=null} = {}){\n    let nodes = new vis.DataSet();\n\n    if (group_filter){\n      group_filter = group_filter.getID();\n    }\n\n    for (let business in this.state.registry){\n      let b = this.state.registry[business];\n      if (business === anchor){\n        nodes.add(b.getNode({is_anchor:true}));\n      }\n      else if (node_filter){\n        if (b.getID() in node_filter){\n          if (group_filter){\n            if (b.inGroup(group_filter)){\n              nodes.add(b.getNode());\n            }\n          }\n          else{\n            nodes.add(b.getNode());\n          }\n        }\n      }\n      else if (group_filter){\n        if (b.inGroup(group_filter)){\n          nodes.add(b.getNode());\n        }\n      }\n      else{\n        nodes.add(b.getNode());\n      }\n    }\n\n    return nodes;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nBusinesses.unDry = function(value){\n  let businesses = new Businesses();\n  businesses.state = value;\n  return businesses;\n}\n\nDry.registerClass(\"Businesses\", Businesses);\n\nexport default Businesses;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Message {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      date: null,\n      sender: null,\n      receiver: null,\n      scores: {},\n    };\n\n    this.setState(props);\n    this._getHook = null;\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  getSender(){\n    if (this._getHook){\n      return this._getHook(this.state.sender);\n    }\n    else {\n      return this.state.sender;\n    }\n  }\n\n  getReceiver(){\n    if (this._getHook){\n      return this._getHook(this.state.receiver);\n    }\n    else {\n      return this.state.receiver;\n    }\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.date = setState(state.date);\n      this.state.sender = setState(state.sender);\n      this.state.receiver = setState(state.receiver);\n      this.state.scores = setState(state.scores, {});\n    }\n  }\n\n  toString(){\n    return `Message(name=${this.state.name} ` +\n           `${this.state.sender}=>${this.state.receiver})`;\n  }\n\n  toEdge(){\n    let weight = 1.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n\n      if (!weight){\n        weight = 1.0;\n      }\n    }\n\n    let color = 'red';\n\n    if (weight > 10.0){\n      weight = 10.0;\n    }\n    else if (weight >= 4){\n      color = 'black';\n    }\n    else if (weight > 1.0){\n      color = 'gray';\n    }\n    else{\n      color = 'gray';\n      weight = 1.0;\n    }\n\n    let edge = {\n      id:this.getID(),\n      from:this.state.sender,\n      to:this.state.receiver,\n      size:weight,\n      color:color,\n    };\n\n    return edge;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nMessage.unDry = function(value){\n  return new Message(value);\n}\n\nMessage.load = function(data, people=null){\n  return new Message({name: data.name});\n}\n\nDry.registerClass(\"Message\", Message);\n\nexport default Message;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\nimport vis from \"vis-network\";\n\nimport Message from \"./Message\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_message_uid(){\n  let uid = uuidv4();\n  return \"M\" + uid.substring(uid.length-7);\n}\n\nclass Messages {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(message){\n    if (!(message instanceof Message)){ return;}\n\n    let id = message.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Message ID ${message}`);\n      }\n\n      this.state.registry[id] = message;\n    }\n    else{\n      let uid = _generate_message_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_message_uid();\n      }\n\n      message.state.id = uid;\n      this.state.registry[uid] = message;\n    }\n  }\n\n  get(id){\n    let message = this.state.registry[id];\n\n    if (message === null){\n      throw MissingError(`No Message with ID ${id}`);\n    }\n\n    return message;\n  }\n\n  getConnectionsTo(item){\n    let id = item.getID();\n\n    let connections = [];\n    let seen = {};\n\n    for (let key in this.state.registry){\n      let message = this.state.registry[key];\n      let n = null;\n\n      if (message.state.sender === id){\n        n = this._getHook(message.state.receiver);\n      }\n      else if (message.state.receiver === id){\n        n = this._getHook(message.state.sender);\n      }\n\n      if (n){\n        let n_id = n.getID();\n        if (!(n_id in seen)){\n          connections.push(n);\n          seen[n_id] = 1;\n        }\n      }\n    }\n\n    return connections;\n  }\n\n  getEdges(){\n    let edges = new vis.DataSet();\n\n    for (let key in this.state.registry){\n      let message = this.state.registry[key];\n      edges.add(message.toEdge());\n    }\n\n    return edges;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nMessages.unDry = function(value){\n  let messages = new Messages();\n  messages.state = value;\n  return messages;\n}\n\nDry.registerClass(\"Messages\", Messages);\n\nexport default Messages;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Position {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      sources: [],\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Position(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPosition.unDry = function(value){\n  return new Position(value);\n}\n\nDry.registerClass(\"Position\", Position);\n\nexport default Position;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Position from \"./Position\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_position_uid(){\n  let uid = uuidv4();\n  return \"Q\" + uid.substring(uid.length-7);\n}\n\nclass Positions {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(position){\n    if (!(position instanceof Position)){ return;}\n\n    let id = position.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Position ID ${position}`);\n      }\n\n      this.state.registry[id] = position;\n    }\n    else{\n      let uid = _generate_position_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_position_uid();\n      }\n\n      position.state.id = uid;\n      this.state.registry[uid] = position;\n    }\n  }\n\n  get(id){\n    let position = this.state.registry[id];\n\n    if (position === null){\n      throw MissingError(`No Position with ID ${id}`);\n    }\n\n    return position;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nPositions.unDry = function(value){\n  let positions = new Positions();\n  positions.state = value;\n  return positions;\n}\n\nDry.registerClass(\"Positions\", Positions);\n\nexport default Positions;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Affiliation {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      sources: [],\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Affiliation(${this.getName()})`;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nAffiliation.unDry = function(value){\n  return new Affiliation(value);\n}\n\nDry.registerClass(\"Affiliation\", Affiliation);\n\nexport default Affiliation;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Affiliation from \"./Affiliation\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_affiliation_uid(){\n  let uid = uuidv4();\n  return \"A\" + uid.substring(uid.length-7);\n}\n\nclass Affiliations {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(affiliation){\n    if (!(affiliation instanceof Affiliation)){ return;}\n\n    let id = affiliation.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Affiliation ID ${affiliation}`);\n      }\n\n      this.state.registry[id] = affiliation;\n    }\n    else{\n      let uid = _generate_affiliation_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_affiliation_uid();\n      }\n\n      affiliation.state.id = uid;\n      this.state.registry[uid] = affiliation;\n    }\n  }\n\n  get(id){\n    let affiliation = this.state.registry[id];\n\n    if (affiliation === null){\n      throw MissingError(`No Affiliation with ID ${id}`);\n    }\n\n    return affiliation;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nAffiliations.unDry = function(value){\n  let affiliations = new Affiliations();\n  affiliations.state = value;\n  return affiliations;\n}\n\nDry.registerClass(\"Affiliations\", Affiliations);\n\nexport default Affiliations;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Source {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Source(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nSource.unDry = function(value){\n  return new Source(value);\n}\n\nDry.registerClass(\"Source\", Source);\n\nexport default Source;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Source from \"./Source\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_source_uid(){\n  let uid = uuidv4();\n  return \"S\" + uid.substring(uid.length-7);\n}\n\nclass Sources {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(source){\n    if (!(source instanceof Source)){ return;}\n\n    let id = source.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Source ID ${source}`);\n      }\n\n      this.state.registry[id] = source;\n    }\n    else{\n      let uid = _generate_source_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_source_uid();\n      }\n\n      source.state.id = uid;\n      this.state.registry[uid] = source;\n    }\n  }\n\n  get(id){\n    let source = this.state.registry[id];\n\n    if (source === null){\n      throw MissingError(`No Source with ID ${id}`);\n    }\n\n    return source;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nSources.unDry = function(value){\n  let sources = new Sources();\n  sources.state = value;\n  return sources;\n}\n\nDry.registerClass(\"Sources\", Sources);\n\nexport default Sources;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Note {\n  constructor(props){\n    this.state = {\n      text: null,\n      id: null,\n      sources: [],\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.text = setState(state.text);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Note(${this.getText()})`;\n  }\n\n  getText(){\n    return this.state.text;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nNote.unDry = function(value){\n  return new Note(value);\n}\n\nDry.registerClass(\"Note\", Note);\n\nexport default Note;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Note from \"./Note\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_note_uid(){\n  let uid = uuidv4();\n  return \"N\" + uid.substring(uid.length-7);\n}\n\nclass Notes {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(note){\n    if (!(note instanceof Note)){ return;}\n\n    let id = note.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Note ID ${note}`);\n      }\n\n      this.state.registry[id] = note;\n    }\n    else{\n      let uid = _generate_note_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_note_uid();\n      }\n\n      note.state.id = uid;\n      this.state.registry[uid] = note;\n    }\n  }\n\n  get(id){\n    let note = this.state.registry[id];\n\n    if (note === null){\n      throw MissingError(`No Note with ID ${id}`);\n    }\n\n    return note;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nNotes.unDry = function(value){\n  let notes = new Notes();\n  notes.state.registry = value;\n  return notes;\n}\n\nDry.registerClass(\"Notes\", Notes);\n\nexport default Notes;\n","\nimport Dry from 'json-dry';\n\nfunction setState(val, def=null){\n    if (val){\n      return val;\n    } else {\n      return def;\n    }\n  }\n\nclass DateRange{\n  constructor(value){\n    this.state = {\n      start: null,\n      end: null\n    }\n\n    this.setState(value);\n  }\n\n  setState(state){\n    if (state){\n      if (state === \"null\"){ return; }\n      this.state.start = setState(state.start);\n      this.state.end = setState(state.end);\n    }\n  }\n\n  toDry(){\n    return this.state;\n  }\n}\n\nDateRange.unDry = function(value){\n  return new DateRange(value);\n}\n\nDry.registerClass(\"DateRange\", DateRange);\n\nexport default DateRange;\n","\nimport Dry from 'json-dry';\nimport People from './People';\nimport Businesses from './Businesses';\nimport Messages from './Messages';\nimport Positions from './Positions';\nimport Affiliations from './Affiliations';\nimport Sources from './Sources';\nimport Notes from './Notes';\nimport DateRange from './DateRange';\n\nclass Social {\n    constructor(props){\n        this.state = props;\n    }\n\n    _updateHooks(){\n        let getHook = (id)=>{return this.get(id);};\n\n        let state = {};\n\n        if (!(this.state.people instanceof People)){\n           state.people = new People();\n        }\n        else{\n            state.people = this.state.people;\n        }\n\n        if (!(this.state.businesses instanceof Businesses)){\n            state.businesses = new Businesses();\n        }\n        else{\n            state.businesses = this.state.businesses;\n        }\n\n        if (!(this.state.messages instanceof Messages)){\n            state.messages = new Messages();\n        }else{\n            state.messages = this.state.messages;\n        }\n\n        if (!(this.state.positions instanceof Positions)){\n            state.positions = new Positions();\n        }\n        else{\n            state.positions = this.state.positions;\n        }\n\n        if (!(this.state.affiliations instanceof Affiliations)){\n            state.affiliations = new Affiliations();\n        }\n        else{\n            state.affiliations = this.state.affiliations;\n        }\n\n        if (!(this.state.sources instanceof Sources)){\n            state.sources = new Sources();\n        }\n        else{\n            state.sources = this.state.sources;\n        }\n\n        if (!(this.state.notes instanceof Notes)){\n            state.notes = new Notes();\n        }\n        else{\n            state.notes = this.state.notes;\n        }\n\n        this.state = state;\n\n        for (let key in this.state){\n          this.state[key]._updateHooks(getHook);\n        }\n    }\n\n    getPeople(){\n        return this.state.people;\n    }\n\n    getBusinesses(){\n        return this.state.businesses;\n    }\n\n    getMessages(){\n      return this.state.messages;\n    }\n\n    getAffiliations(){\n      return this.state.affiliations;\n    }\n\n    getPositions(){\n      return this.state.positions;\n    }\n\n    getSources(){\n      return this.state.sources;\n    }\n\n    getNotes(){\n      return this.state.notes;\n    }\n\n    getConnectionsTo(item){\n      return this.getMessages().getConnectionsTo(item);\n    }\n\n    getGraph({anchor=null, node_filter=null, group_filter=null} = {}){\n      if (anchor){\n        anchor = this.getPeople().find(anchor);\n      }\n\n      if (node_filter){\n          let id = node_filter.getID();\n          let connections = this.getConnectionsTo(node_filter);\n          node_filter = {};\n          node_filter[id] = 1;\n          for (let connection in connections){\n              let node = connections[connection];\n              node_filter[node.getID()] = 1;\n          }\n      }\n\n      let nodes = this.getPeople().getNodes({anchor:anchor,\n                                             node_filter:node_filter,\n                                             group_filter:group_filter});\n      nodes.add(this.getBusinesses().getNodes({group_filter:group_filter,\n                                               node_filter:node_filter}).get());\n\n      let edges = this.getMessages().getEdges();\n\n      return {\"nodes\": nodes, \"edges\": edges};\n    }\n\n    get(id){\n        if (id[0] === \"M\"){\n            return this.getMessages().get(id);\n        }\n        else if (id[0] === \"P\"){\n            return this.getPeople().get(id);\n        }\n        else if (id[0] === \"B\"){\n            return this.getBusinesses().get(id);\n        }\n        else if (id[0] === \"Q\"){\n            return this.getPositions().get(id);\n        }\n        else if (id[0] === \"A\"){\n            return this.getAffiliations().get(id);\n        }\n        else if (id[0] === \"S\"){\n            return this.getSources().get(id);\n        }\n        else if (id[0] === \"N\"){\n            return this.getNotes().get(id);\n        }\n        else {\n            return id;\n        }\n    }\n\n    toDry(){\n        return {value: this.state};\n    }\n}\n\nSocial.unDry = function(value){\n    let social = new Social();\n    social.state = value;\n    social._updateHooks();\n\n    return social;\n}\n\nDry.registerClass(\"Social\", Social);\n\nexport default Social;\n","\n// package imports\nimport React from 'react';\nimport Dry from 'json-dry';\n\n// Brunel components\nimport SocialGraph from \"./components/SocialGraph\";\nimport InfoBox from \"./components/InfoBox\";\nimport TimeLineBox from './components/TimeLineBox';\nimport SlidingPanel from './components/SlidingPanel';\nimport ConnectionList from './components/ConnectionList';\nimport GroupsList from './components/GroupsList';\n\n// Brunel model\nimport Social from './model/Social';\nimport Person from './model/Person';\nimport Business from './model/Business';\nimport Message from './model/Message';\n\n// Data for import\nimport graph_data from './data.json';\n\n// Styling for the app\nimport styles from './SocialApp.module.css'\n\n\nclass SocialApp extends React.Component {\n  constructor(props){\n    super(props);\n\n    let title = \"Isambard's Social Network\";\n    let image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Robert_Howlett_-_Isambard_Kingdom_Brunel_and_the_launching_chains_of_the_Great_Eastern_-_Google_Art_Project.jpg/256px-Robert_Howlett_-_Isambard_Kingdom_Brunel_and_the_launching_chains_of_the_Great_Eastern_-_Google_Art_Project.jpg\";\n    let text = (<div><div>This is an interactive viewer of Isambard Kingdom Brunel's\n                     social network. Please click in the nodes and have fun!</div>\n                     <button href=\"#\" className={styles.controlButton}\n                     onClick={()=>{this.resetFilters()}}>Reset Filters</button>\n                </div>);\n\n    let social = Dry.parse(graph_data);\n    console.log(social);\n\n    if (!(social instanceof Social )){\n      console.log(\"Could not parse!\");\n      social = new Social();\n    }\n\n    let group_filter = null;\n    let person_filter = null;\n    let anchor = \"Brunel\";\n\n    this.state = {\n      default_data: {\"title\": title, \"image\": image, \"text\": text},\n      infobox_data: {\"title\": title, \"image\": image, \"text\": text},\n      social: social,\n      graph: social.getGraph({anchor:anchor, group_filter:group_filter,\n                              person_filter: person_filter}),\n      group_filter: group_filter,\n      person_filter: person_filter,\n      anchor: anchor,\n      isInfoPanelOpen: false,\n      isTimeLinePanelOpen: false,\n      timeline: new TimeLineBox(),\n    };\n  }\n\n  resetFilters(node){\n    let node_filter = null;\n    let group_filter = null;\n    let anchor = this.state.anchor;\n    let social = this.state.social;\n\n    let graph = social.getGraph({anchor:anchor, node_filter:node_filter,\n                                 group_filter:group_filter});\n\n    this.setState({graph:graph, node_filter:node_filter,\n                   group_filter:group_filter});\n  }\n\n  selectNode(node){\n    let group_filter = this.state.group_filter;\n    let node_filter = this.state.node_filter;\n    let anchor = this.state.anchor;\n    let social = this.state.social;\n\n    if (node === node_filter){\n      // switch off the current filter\n      node_filter = null;\n    }\n    else{\n      node_filter = node;\n    }\n\n    //create a new graph with this filter\n    let graph = social.getGraph({anchor:anchor,\n                                 group_filter:group_filter,\n                                 node_filter: node_filter});\n\n    this.setState({node_filter: node_filter, graph: graph});\n  }\n\n  selectGroup(group){\n    let group_filter = this.state.group_filter;\n    let node_filter = this.state.node_filter;\n    let anchor = this.state.anchor;\n    let social = this.state.social;\n\n    if (group === group_filter){\n      // switch off the current filter\n      group_filter = null;\n    }\n    else{\n      group_filter = group;\n    }\n\n    //create a new graph with this filter\n    let graph = social.getGraph({anchor:anchor,\n                                 group_filter:group_filter,\n                                 node_filter: node_filter});\n\n    this.setState({group_filter: group_filter, graph: graph});\n  }\n\n  getBiography(item){\n    let name = \"unknown\";\n    let affiliations = [];\n    let positions = [];\n\n    let social = this.state.social;\n    let connections = social.getConnectionsTo(item);\n\n    if (item.getAffiliations){\n      let a = item.getAffiliations();\n      for (let val in a){\n        affiliations.push(a[val][0]);\n      }\n    }\n\n    if (item.getPositions){\n      let p = item.getPositions();\n      for (let val in p){\n        positions.push(p[val][0]);\n      }\n    }\n\n    if (item.getName){\n      name = item.getName();\n    }\n\n    return (\n      <div>\n        <button href=\"#\" className={styles.peopleButton}\n                onClick={()=>{this.selectNode(item);}}>\n          {name}\n        </button>\n        <GroupsList title=\"Affiliations\"\n                    groups={affiliations}\n                    emitClicked={(item)=>{this.selectGroup(item);}}/>\n        <GroupsList title=\"Positions\"\n                    groups={positions}\n                    emitClicked={(item)=>{this.selectGroup(item);}}/>\n        <ConnectionList title=\"Connections\"\n                  connections={connections}\n                  emitClicked={(item)=>{this.showInfo(item);}}/>\n      </div>\n    );\n  }\n\n  showInfo(item){\n    console.log(\"showInfo\");\n    console.log(item);\n    let newdata = {...this.state.default_data};\n\n    if (item instanceof Person){\n      newdata.title = \"Person\";\n      newdata.text = this.getBiography(item);\n      newdata.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Illustrirte_Zeitung_%281843%29_21_332_1_Das_vom_Stapellaufen_des_Great-Britain.PNG/640px-Illustrirte_Zeitung_%281843%29_21_332_1_Das_vom_Stapellaufen_des_Great-Britain.PNG\";\n    }\n    else if (item instanceof Business){\n      newdata.title = \"Business\";\n      newdata.text = this.getBiography(item);\n      newdata.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/SS_Great_Britain_diagram.jpg/320px-SS_Great_Britain_diagram.jpg\";\n    }\n    else if (item instanceof Message){\n      newdata.title = \"Message\";\n\n      let sender = item.getSender();\n      if (sender.getName){\n        let node = sender;\n        sender = <button href=\"#\" onClick={()=>this.showInfo(node)}\n                    className={styles.controlButton}>\n                    {sender.getName()}\n                 </button>;\n      }\n\n      let receiver = item.getReceiver();\n      if (receiver.getName){\n        let node = receiver;\n        receiver = <button href=\"#\" onClick={()=>this.showInfo(node)}\n                     className={styles.controlButton}>\n                     {receiver.getName()}\n                   </button>;\n      }\n\n      newdata.text = <span>Message from {sender} to {receiver}</span>;\n      newdata.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/SS_Great_Britain_transverse_section.jpg/320px-SS_Great_Britain_transverse_section.jpg\";\n    }\n\n    this.setState({infobox_data:newdata,\n                   isInfoPanelOpen:true});\n  }\n\n  slotClicked(id){\n    if (!id){\n      this.setState({isInfoPanelOpen:false,\n                     isTimeLinePanelOpen:false});\n      return;\n    }\n\n    const social = this.state.social;\n    const item = social.get(id);\n    this.showInfo(item);\n  }\n\n  toggleInfoPanel(){\n    this.setState({isInfoPanelOpen: !(this.state.isInfoPanelOpen)});\n  }\n\n  toggleTimeLinePanel(){\n    this.setState({isTimeLinePanelOpen: !(this.state.isTimeLinePanelOpen)});\n  }\n\n  render(){\n    let data = this.state.infobox_data;\n    let node_filter = this.state.node_filter;\n    let group_filter = this.state.group_filter;\n\n    let filter_text = null;\n    let reset_button = null;\n\n    if (node_filter){\n      filter_text = `${node_filter}`;\n    }\n\n    if (group_filter){\n      let text = `${group_filter}`;\n      if (filter_text){\n        filter_text = `${filter_text} and ${text}`;\n      }\n      else{\n        filter_text = text;\n      }\n    }\n\n    if (filter_text){\n      filter_text = <div className={styles.filterText}>\n                      Filtered by {filter_text}.\n                    </div>;\n      reset_button = <button onClick={() => {this.resetFilters()}}\n                             className={styles.controlButton}>\n                       Reset Filters\n                     </button>;\n    }\n\n    return (\n      <div>\n        <SlidingPanel isOpen={this.state.isTimeLinePanelOpen}\n                      position='bottom'>\n          {this.state.timeline.render()}\n        </SlidingPanel>\n        <SlidingPanel isOpen={this.state.isInfoPanelOpen}\n                      position='right'>\n          <InfoBox title={data.title} text={data.text}\n                   image={data.image} />\n        </SlidingPanel>\n        <div className={styles.graphContainer}>\n          <SocialGraph graph={this.state.graph}\n                       emitClicked={(id)=>this.slotClicked(id)}\n                       anchor={this.state.anchor} />\n        </div>\n        <div className={styles.bottomContainer}>\n          <button onClick={() => this.toggleTimeLinePanel()}\n                  className={styles.controlButton}>\n            Show timeline\n          </button>\n          {filter_text}\n          {reset_button}\n          <div className={styles.citationText}>\n            See the\n            source <a href=\"https://github.com/chryswoods/brunel\">\n            on GitHub</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\n/*        <SlidingPanel\n          isOpen={ this.state.isTimeLinePanelOpen }\n          title='Timeline'\n          from='bottom'\n          width=\"100%\"\n          onRequestClose={() => this.setState({isTimeLinePanelOpen: false})}>\n          {this.state.timeline.render()}\n        </SlidingPanel>\n*/\n\nexport default SocialApp;\n"],"sourceRoot":""}