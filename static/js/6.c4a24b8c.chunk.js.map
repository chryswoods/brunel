{"version":3,"sources":["version8/components/GroupsList.module.css","version8/components/ConnectionList.module.css","version8/components/InfoBox.module.css","version8/components/SlidingPanel.module.css","version8/components/transitions/SlideFromLeft.module.css","version8/components/transitions/SlideFromRight.module.css","version8/components/transitions/SlideFromBottom.module.css","version8/components/transitions/SlideFromTop.module.css","version8/SocialApp.module.css","version8/components/SocialGraph.js","version8/components/GroupsList.js","version8/components/ConnectionList.js","version8/model/Person.js","version8/model/Errors.js","version8/model/People.js","version8/model/Business.js","version8/model/Businesses.js","version8/model/Message.js","version8/model/Messages.js","version8/model/Position.js","version8/model/Positions.js","version8/model/Affiliation.js","version8/model/Affiliations.js","version8/model/Source.js","version8/model/Sources.js","version8/model/Note.js","version8/model/Notes.js","version8/model/DateRange.js","version8/model/Social.js","version8/components/InfoBox.js","version8/components/TimeLineBox.js","../node_modules/dom-helpers/esm/removeClass.js","../node_modules/react-transition-group/esm/config.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/Transition.js","../node_modules/react-transition-group/esm/CSSTransition.js","../node_modules/dom-helpers/esm/addClass.js","../node_modules/dom-helpers/esm/hasClass.js","version8/components/SlidingPanel.js","version8/SocialApp.js"],"names":["module","exports","fast_physics","enabled","timestep","options","height","width","layout","randomSeed","manipulation","initiallyActive","interaction","navigationButtons","edges","shadow","smooth","type","roundness","physics","SocialGraph","props","state","dimensions","this","setState","container","offsetWidth","offsetHeight","window","addEventListener","updateSize","removeEventListener","social","getGraph","getNetwork","network","setNetwork","params","emitClicked","graph","id","nodes","length","get","fit","my_options","events","click","handleClick","resize","handleResize","ref","el","style","React","Component","null_function","item","GroupsList","groups","title","listitems","map","i","name","getName","getID","key","href","onClick","className","styles","button","ConnectionList","connections","val","def","Person","titles","firstnames","surnames","suffixes","positions","affiliations","projects","sources","scores","alive","gender","notes","_getHook","hook","join","parts","part","getTitle","push","getFirstName","getSurname","getSuffix","group","result","value","getStart","getEnd","is_anchor","node","label","shape","weight","keys","Object","sort","unDry","Dry","registerClass","KeyError","args","Error","captureStackTrace","MissingError","_generate_person_uid","uid","uuidv4","substring","People","registry","load","_updateHooks","search","person","anchor","group_filter","node_filter","vis","DataSet","p","add","getNode","inGroup","data","array","forEach","element","people","Business","_generate_business_uid","Businesses","business","b","businesses","Message","date","sender","receiver","color","from","to","size","_generate_message_uid","Messages","message","seen","n","n_id","toEdge","messages","Position","_generate_position_uid","Positions","position","Affiliation","_generate_affiliation_uid","Affiliations","affiliation","Source","_generate_source_uid","Sources","source","Note","text","getText","_generate_note_uid","Notes","note","DateRange","start","end","Social","filter","cache","getHook","error","getMessages","getConnectionsTo","getPeople","find","connection","getNodes","getBusinesses","getEdges","getPositions","getAffiliations","getSources","getNotes","default_title","default_image","default_text","getBiography","emitSelected","a","InfoBox","image","getSender","controlButton","getReceiver","extractData","Card","body","outline","overflowY","CardHeader","align","CardImg","top","src","CardBody","basicExample","items","content","TimeLineBox","selectedIds","replaceClassName","origClass","classToRemove","replace","RegExp","createContext","UNMOUNTED","EXITED","ENTERING","ENTERED","_React$Component","Transition","context","_this","call","initialStatus","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","getDerivedStateFromProps","_ref","prevState","_proto","prototype","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","undefined","mounting","findDOMNode","performEnter","performExit","_this2","appearing","timeouts","enterTimeout","config","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","nextState","callback","setNextCallback","_this4","active","event","handler","doesNotHaveTimeoutOrListener","addEndListener","setTimeout","render","_this$props","children","childProps","createElement","TransitionGroupContext","Provider","child","Children","only","cloneElement","noop","contextType","propTypes","defaultProps","EXITING","classes","split","c","classList","remove","setAttribute","baseVal","CSSTransition","_len","arguments","Array","_key","apply","concat","appliedClasses","removeClasses","addClass","getClassNames","classNames","isStringClassNames","baseClassName","activeClassName","doneClassName","phase","scrollTop","contains","indexOf","hasClass","_addClass","_this$appliedClasses$","base","done","SlidingPanel","isOpen","rightContainer","transition","SlideFromRight","bottomContainer","SlideFromBottom","topContainer","SlideFromTop","leftContainer","SlideFromLeft","SocialApp","parse","graph_data","console","log","setAnchor","selected_item","isInfoPanelOpen","isTimeLinePanelOpen","timeline","resetFilters","toggleNodeFilter","toggleGroupFilter","is_node","isNode","selectNode","selectGroup","showInfo","getNodeFilter","getGroupFilter","filter_text","reset_button","filterText","fontSize","slotClicked","slotSelected","graphContainer","toggleTimeLinePanel","citationText"],"mappings":"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","file":"static/js/6.c4a24b8c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"GroupsList_button__3BKvs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ConnectionList_button__1Xudf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"InfoBox_button__1ZAGG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SlidingPanel_container__kAOZX\",\"leftContainer\":\"SlidingPanel_leftContainer__3diQ4\",\"rightContainer\":\"SlidingPanel_rightContainer__2v4a0\",\"topContainer\":\"SlidingPanel_topContainer__3tQrd\",\"bottomContainer\":\"SlidingPanel_bottomContainer__2uaFH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromLeft_enter__1Co2y\",\"enterActive\":\"SlideFromLeft_enterActive__8rxSw\",\"exit\":\"SlideFromLeft_exit__AieR6\",\"exitActive\":\"SlideFromLeft_exitActive__21Xyj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromRight_enter__3DvEl\",\"enterActive\":\"SlideFromRight_enterActive__33hj2\",\"exit\":\"SlideFromRight_exit__2mBjK\",\"exitActive\":\"SlideFromRight_exitActive__36j60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromBottom_enter__ipcC8\",\"enterActive\":\"SlideFromBottom_enterActive__3CAeV\",\"exit\":\"SlideFromBottom_exit__3Ug4f\",\"exitActive\":\"SlideFromBottom_exitActive__3lIXO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"SlideFromTop_enter__36drm\",\"enterActive\":\"SlideFromTop_enterActive__xcy7B\",\"exit\":\"SlideFromTop_exit__KFnXf\",\"exitActive\":\"SlideFromTop_exitActive__1T5vh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"module\":\"SocialApp_module__2JuL9\",\"controlButton\":\"SocialApp_controlButton__3pI3X\",\"graphContainer\":\"SocialApp_graphContainer__1ClD7\",\"bottomContainer\":\"SocialApp_bottomContainer__3eIku\",\"filterText\":\"SocialApp_filterText__quzJ_\",\"citationText\":\"SocialApp_citationText__2aS2C\"};","import React from \"react\";\nimport Graph from \"react-graph-vis\";\n\nconst fast_physics = {\n  enabled: true,\n  timestep: 0.5,\n};\n\nconst slow_physics = {...fast_physics};\nslow_physics.timestep = 0.1;\n\nconst options = {\n  height: \"200px\",\n  width: \"200px\",\n  layout:{\n    randomSeed: 42,\n  },\n  manipulation:{\n    enabled: false,\n    initiallyActive: false,\n  },\n  interaction:{\n    navigationButtons: true,\n  },\n  edges:{\n    shadow: false,\n    smooth: {\n      enabled: true,\n      type: \"continuous\",\n      roundness: 0.3,\n    },\n    width: 0.5,\n  },\n  physics: fast_physics,\n};\n\nclass SocialGraph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dimensions: {height:300, width:600},\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      dimensions: {\n        width: this.container.offsetWidth,\n        height: this.container.offsetHeight,\n      },\n    });\n    window.addEventListener('resize', ()=>{this.updateSize()});\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', ()=>{this.updateSize()});\n  }\n\n  updateSize() {\n    this.setState({\n      dimensions: {\n        width: this.container.offsetWidth,\n        height: this.container.offsetHeight,\n      }\n    });\n  }\n\n  getGraph(){\n    const social = this.props.social;\n\n    if (social){\n      return social.getGraph();\n    }\n    else{\n      return null;\n    }\n  }\n\n  getNetwork(){\n    const social = this.props.social;\n\n    if (social){\n      return social.getNetwork();\n    }\n    else{\n      return null;\n    }\n  }\n\n  setNetwork(network){\n    let social = this.props.social;\n\n    if (social){\n      social.setNetwork(network);\n    }\n  }\n\n  handleClick(params) {\n    let emitClicked = this.props.emitClicked;\n\n    if (emitClicked)\n    {\n      let graph = this.props.social.getGraph();\n\n      let id = null;\n\n      if (params.nodes.length > 0)\n      {\n        let node = graph.nodes.get(params.nodes[0]);\n        id = node.id;\n      }\n      else if (params.edges.length > 0)\n      {\n        let edge = graph.edges.get(params.edges[0]);\n        id = edge.id;\n      }\n\n      emitClicked(id);\n    }\n  }\n\n  handleResize(params){\n    // need to do this or else the network is rendered off-screen!\n    let network = this.getNetwork();\n    if (network){\n      network.fit();\n    }\n  }\n\n  render(){\n    let graph = this.getGraph();\n    let my_options = {...options};\n\n    // seem to need to do this so that the network will auto-scale\n    // as the screen is redrawn\n    my_options[\"height\"] = `${this.state.dimensions.height}px`;\n    my_options[\"width\"] = `${this.state.dimensions.width}px`;\n\n    if (graph){\n      let events = {click: (params) => {this.handleClick(params)},\n                    resize: (params) => {this.handleResize(params)}};\n\n      // need to enclose in a div that is set to take up 100% of the parent\n      // space and that holds a reference so that we can resize the\n      // graph as the parent resizes\n      return (<div ref={el => (this.container = el)}\n                   style={{width:\"100%\", height:\"100%\"}}>\n                <Graph\n                     graph={{nodes:graph.nodes.get(),\n                             edges:graph.edges.get()}}\n                     options={my_options}\n                     events={events}\n                     getNetwork={(network)=>{\n                                  this.setNetwork(network)}}/>\n              </div>\n             );\n    }\n    else{\n      return (<div ref={el => (this.container = el)}>\n                No data to display!!!\n              </div>);\n    }\n  }\n};\n\nexport default SocialGraph;\n","\nimport React from 'react';\n\nimport styles from './GroupsList.module.css';\n\nfunction null_function(item){}\n\nfunction GroupsList({groups, title, emitClicked=null_function}) {\n\n  if (!groups || groups.length === 0) {\n    return null;\n  }\n\n  const listitems = groups.map((item) => {\n    let i = item;\n    let name = item;\n\n    if (item.getName) {\n      name = item.getName();\n    }\n    else if (item.getID) {\n      name = item.getID();\n    }\n\n    return (<li key={name}>\n      <button href=\"#\" onClick={() => { emitClicked(i);}}\n        className={styles.button}>\n        {name}</button></li>);\n  });\n\n  return (<div>{title}<br /><ul>{listitems}</ul></div>);\n}\n\nexport default GroupsList;\n","\nimport React from 'react';\n\nimport styles from './ConnectionList.module.css';\n\nfunction null_function(item){}\n\nfunction ConnectionList({connections, title, emitClicked=null_function}) {\n  if (!connections || connections.length === 0) {\n    return null;\n  }\n\n  const listitems = connections.map((item) => {\n    let i = item;\n    let name = item.getName();\n\n    return (<li key={name}>\n      <button href=\"#\" className={styles.button}\n        onClick={() => { emitClicked(i); }}>\n        {name}</button></li>);\n  });\n\n  return (<div>{title}<br /><ul>{listitems}</ul></div>);\n}\n\n\nexport default ConnectionList;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Person {\n  constructor(props){\n    this.state = {\n      titles: [],\n      firstnames: [],\n      surnames: [],\n      suffixes: [],\n      id: null,\n      positions: {},\n      affiliations: {},\n      projects: {},\n      sources: [],\n      scores: {},\n      alive: null,\n      gender: null,\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  isNode(){\n    return true;\n  }\n\n  setState(state){\n    if (state){\n      this.state.titles = setState(state.titles);\n      this.state.firstnames = setState(state.firstnames);\n      this.state.surnames = setState(state.surnames);\n      this.state.suffixes = setState(state.suffixes);\n      this.state.id = setState(state.id);\n      this.state.positions = setState(state.positions, {});\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.projects = setState(state.projects, {});\n      this.state.sources = setState(state.sources, []);\n      this.state.alive = setState(state.alive);\n      this.state.gender = setState(state.gender);\n      this.state.scores = setState(state.scores, {});\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Person(${this.getName()})`;\n  }\n\n  getFirstName(){\n    if (this.state.firstnames){\n      return this.state.firstnames.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getTitle(){\n    if (this.state.titles){\n      return this.state.titles.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getSurname(){\n    if (this.state.surnames){\n      return this.state.surnames.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getSuffix(){\n    if (this.state.suffixes){\n      return this.state.suffixes.join(\" \");\n    }\n    else{\n      return null;\n    }\n  }\n\n  getName(){\n    var parts = [];\n\n    let part = this.getTitle();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getFirstName();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getSurname();\n    if (part){\n      parts.push(part);\n    }\n\n    part = this.getSuffix();\n    if (part){\n      parts.push(part);\n    }\n\n    if (parts.length > 0){\n       return parts.join(\" \");\n    }\n    else{\n      return \"null\";\n    }\n  }\n\n  inGroup(group){\n    return (group in this.state.positions || group in this.state.affiliations);\n  }\n\n  getPositions(){\n    let result = [];\n\n    for (let key in this.state.positions){\n      let value = this.state.positions[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getAffiliations(){\n    let result = [];\n\n    for (let key in this.state.affiliations){\n      let value = this.state.affiliations[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getScores(){\n    return this.state.scores;\n  }\n\n  getBorn(){\n    if (this.state.alive){\n      return this.state.alive.getStart();\n    }\n    else{\n      return null;\n    }\n  }\n\n  getDied(){\n    if (this.state.alive){\n      return this.state.alive.getEnd();\n    }\n    else{\n      return null;\n    }\n  }\n\n  getNode(is_anchor=false){\n    let node = {id: this.getID(),\n                label: this.getName(),\n                title: this.getName(),\n                shape: \"dot\",\n               };\n\n    let weight = 10.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n      if (!weight){\n        weight = 10.0;\n      }\n    }\n\n    if (weight < 5.0){\n      weight = 5.0;\n    }\n    else if (weight > 20.0){\n      weight = 20.0;\n    }\n\n    node[\"size\"] = weight;\n\n    let keys = Object.keys(this.state.affiliations);\n\n    if (keys.length > 0){\n      node[\"group\"] = keys.sort().join(\":\");\n    }\n    else{\n      node[\"group\"] = \"unknown\";\n    }\n\n    if (is_anchor){\n      node[\"shape\"] = \"star\";\n      node[\"physics\"] = false;\n      node[\"group\"] = \"anchor\";\n      node[\"size\"] = 20.0;\n    }\n\n    return node;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPerson.unDry = function(value){\n  return new Person(value);\n}\n\nDry.registerClass(\"Person\", Person);\n\nexport default Person;\n","\nclass KeyError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, KeyError)\n    }\n}\n\nclass ValueError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, ValueError)\n    }\n}\n\nclass DuplicateError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, DuplicateError)\n    }\n}\n\nclass MissingError extends Error {\n    constructor(...args) {\n        super(...args)\n        Error.captureStackTrace(this, MissingError)\n    }\n}\n\nexport {KeyError, ValueError, DuplicateError, MissingError};\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\nimport vis from \"vis-network\";\n\nimport Person from \"./Person\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_person_uid(){\n  let uid = uuidv4();\n  return \"P\" + uid.substring(uid.length-7);\n}\n\nclass People {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n\n    this._getHook = null;\n\n    this.load(props);\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  find(name){\n    for (let key in this.state.registry){\n      let person = this.state.registry[key];\n      if (person.getName().search(name) !== -1){\n        return key;\n      }\n    }\n\n    return null;\n  }\n\n  add(person){\n    if (!(person instanceof Person)){ return;}\n\n    let id = person.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Person ID ${person}`);\n      }\n\n      this.state.registry[id] = person;\n    }\n    else{\n      let uid = _generate_person_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_person_uid();\n      }\n\n      person.state.id = uid;\n      this.state.registry[uid] = person;\n    }\n  }\n\n  getNodes({anchor=null, group_filter=null, node_filter=null} = {}){\n    let nodes = new vis.DataSet();\n\n    if (group_filter){\n      group_filter = group_filter.getID();\n    }\n\n    for (let person in this.state.registry){\n      let p = this.state.registry[person];\n      if (person === anchor){\n        nodes.add(p.getNode({is_anchor:true}));\n      }\n      else if (node_filter){\n        if (p.getID() in node_filter){\n          if (group_filter){\n            if (p.inGroup(group_filter)){\n              nodes.add(p.getNode());\n            }\n          }\n          else{\n            nodes.add(p.getNode());\n          }\n        }\n      }\n      else if (group_filter){\n        if (p.inGroup(group_filter)){\n          nodes.add(p.getNode());\n        }\n      }\n      else{\n        nodes.add(p.getNode());\n      }\n    }\n\n    return nodes;\n  }\n\n  get(id){\n    let person = this.state.registry[id];\n\n    if (person === null){\n      throw MissingError(`No Person with ID ${id}`);\n    }\n\n    return person;\n  }\n\n  load(data){\n    if (data){\n      if (data.array){ data = data.array; }\n      data.forEach(element => {\n        let person = Person.load(element);\n        this.add(person);\n      });\n    }\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPeople.unDry = function(value){\n  let people = new People();\n  people.state = value;\n  return people;\n}\n\nDry.registerClass(\"People\", People);\n\nexport default People;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Business {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      projects: {},\n      sources: [],\n      scores: {},\n      affiliations: {},\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  isNode(){\n    return true;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.affiliations = setState(state.affiliations, {});\n      this.state.projects = setState(state.projects, {});\n      this.state.sources = setState(state.sources, []);\n      this.state.scores = setState(state.scores, {});\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Business(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  inGroup(group){\n    return group in this.state.affiliations;\n  }\n\n  getAffiliations(){\n    let result = [];\n\n    for (let key in this.state.affiliations){\n      let value = this.state.affiliations[key];\n      if (this._getHook){\n        result.push( [this._getHook(key), value] );\n      }\n      else{\n        result.push( [key, value] );\n      }\n    }\n\n    return result;\n  }\n\n  getScores(){\n    return this.state.scores;\n  }\n\n  getNode(is_anchor=false){\n    let node = {\n      id: this.getID(),\n      label: this.getName(),\n      title: this.getName(),\n      shape: \"dot\",\n     };\n\n    let weight = 1.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n      if (!weight){\n        weight = 1.0;\n      }\n    }\n\n    if (weight < 5.0){\n      weight = 5.0;\n    }\n    else if (weight > 20.0){\n      weight = 20.0;\n    }\n\n    node[\"size\"] = weight;\n\n    let keys = Object.keys(this.state.affiliations);\n\n    if (keys.length > 0){\n      node[\"group\"] = keys.sort().join(\":\");\n    }\n\n    if (is_anchor){\n      node[\"shape\"] = \"star\";\n      node[\"physics\"] = false;\n      node[\"group\"] = \"anchor\";\n      node[\"size\"] = 20.0;\n    }\n\n    return node;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nBusiness.unDry = function(value){\n  return new Business(value);\n}\n\nDry.registerClass(\"Business\", Business);\n\nexport default Business;\n","\nimport Dry from 'json-dry';\nimport vis from 'vis-network';\nimport uuidv4 from 'uuid';\n\nimport Business from \"./Business\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_business_uid(){\n  let uid = uuidv4();\n  return \"B\" + uid.substring(uid.length-7);\n}\n\nclass Businesses {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(business){\n    if (!(business instanceof Business)){ return;}\n\n    let id = business.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Business ID ${Business}`);\n      }\n\n      this.state.registry[id] = business;\n    }\n    else{\n      let uid = _generate_business_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_business_uid();\n      }\n\n      business.state.id = uid;\n      this.state.registry[uid] = business;\n    }\n  }\n\n  get(id){\n    let business = this.state.registry[id];\n\n    if (business === null){\n      throw MissingError(`No Business with ID ${id}`);\n    }\n\n    return business;\n  }\n\n\n  getNodes({anchor=null, group_filter=null, node_filter=null} = {}){\n    let nodes = new vis.DataSet();\n\n    if (group_filter){\n      group_filter = group_filter.getID();\n    }\n\n    for (let business in this.state.registry){\n      let b = this.state.registry[business];\n      if (business === anchor){\n        nodes.add(b.getNode({is_anchor:true}));\n      }\n      else if (node_filter){\n        if (b.getID() in node_filter){\n          if (group_filter){\n            if (b.inGroup(group_filter)){\n              nodes.add(b.getNode());\n            }\n          }\n          else{\n            nodes.add(b.getNode());\n          }\n        }\n      }\n      else if (group_filter){\n        if (b.inGroup(group_filter)){\n          nodes.add(b.getNode());\n        }\n      }\n      else{\n        nodes.add(b.getNode());\n      }\n    }\n\n    return nodes;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nBusinesses.unDry = function(value){\n  let businesses = new Businesses();\n  businesses.state = value;\n  return businesses;\n}\n\nDry.registerClass(\"Businesses\", Businesses);\n\nexport default Businesses;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Message {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      date: null,\n      sender: null,\n      receiver: null,\n      scores: {},\n    };\n\n    this.setState(props);\n    this._getHook = null;\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  getSender(){\n    if (this._getHook){\n      return this._getHook(this.state.sender);\n    }\n    else {\n      return this.state.sender;\n    }\n  }\n\n  getReceiver(){\n    if (this._getHook){\n      return this._getHook(this.state.receiver);\n    }\n    else {\n      return this.state.receiver;\n    }\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.date = setState(state.date);\n      this.state.sender = setState(state.sender);\n      this.state.receiver = setState(state.receiver);\n      this.state.scores = setState(state.scores, {});\n    }\n  }\n\n  toString(){\n    return `Message(name=${this.state.name} ` +\n           `${this.state.sender}=>${this.state.receiver})`;\n  }\n\n  toEdge(){\n    let weight = 1.0;\n\n    if (this.state.scores){\n      weight = this.state.scores.weight;\n\n      if (!weight){\n        weight = 1.0;\n      }\n    }\n\n    let color = 'red';\n\n    if (weight > 10.0){\n      weight = 10.0;\n    }\n    else if (weight >= 4){\n      color = 'black';\n    }\n    else if (weight > 1.0){\n      color = 'gray';\n    }\n    else{\n      color = 'gray';\n      weight = 1.0;\n    }\n\n    let edge = {\n      id:this.getID(),\n      from:this.state.sender,\n      to:this.state.receiver,\n      size:weight,\n      color:color,\n    };\n\n    return edge;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nMessage.unDry = function(value){\n  return new Message(value);\n}\n\nMessage.load = function(data, people=null){\n  return new Message({name: data.name});\n}\n\nDry.registerClass(\"Message\", Message);\n\nexport default Message;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\nimport vis from \"vis-network\";\n\nimport Message from \"./Message\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_message_uid(){\n  let uid = uuidv4();\n  return \"M\" + uid.substring(uid.length-7);\n}\n\nclass Messages {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(message){\n    if (!(message instanceof Message)){ return;}\n\n    let id = message.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Message ID ${message}`);\n      }\n\n      this.state.registry[id] = message;\n    }\n    else{\n      let uid = _generate_message_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_message_uid();\n      }\n\n      message.state.id = uid;\n      this.state.registry[uid] = message;\n    }\n  }\n\n  get(id){\n    let message = this.state.registry[id];\n\n    if (message === null){\n      throw MissingError(`No Message with ID ${id}`);\n    }\n\n    return message;\n  }\n\n  getConnectionsTo(item){\n    let id = item.getID();\n\n    let connections = [];\n    let seen = {};\n\n    for (let key in this.state.registry){\n      let message = this.state.registry[key];\n      let n = null;\n\n      if (message.state.sender === id){\n        n = this._getHook(message.state.receiver);\n      }\n      else if (message.state.receiver === id){\n        n = this._getHook(message.state.sender);\n      }\n\n      if (n){\n        let n_id = n.getID();\n        if (!(n_id in seen)){\n          connections.push(n);\n          seen[n_id] = 1;\n        }\n      }\n    }\n\n    return connections;\n  }\n\n  getEdges(){\n    let edges = new vis.DataSet();\n\n    for (let key in this.state.registry){\n      let message = this.state.registry[key];\n      edges.add(message.toEdge());\n    }\n\n    return edges;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nMessages.unDry = function(value){\n  let messages = new Messages();\n  messages.state = value;\n  return messages;\n}\n\nDry.registerClass(\"Messages\", Messages);\n\nexport default Messages;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Position {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      sources: [],\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Position(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nPosition.unDry = function(value){\n  return new Position(value);\n}\n\nDry.registerClass(\"Position\", Position);\n\nexport default Position;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Position from \"./Position\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_position_uid(){\n  let uid = uuidv4();\n  return \"Q\" + uid.substring(uid.length-7);\n}\n\nclass Positions {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(position){\n    if (!(position instanceof Position)){ return;}\n\n    let id = position.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Position ID ${position}`);\n      }\n\n      this.state.registry[id] = position;\n    }\n    else{\n      let uid = _generate_position_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_position_uid();\n      }\n\n      position.state.id = uid;\n      this.state.registry[uid] = position;\n    }\n  }\n\n  get(id){\n    let position = this.state.registry[id];\n\n    if (position === null){\n      throw MissingError(`No Position with ID ${id}`);\n    }\n\n    return position;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nPositions.unDry = function(value){\n  let positions = new Positions();\n  positions.state = value;\n  return positions;\n}\n\nDry.registerClass(\"Positions\", Positions);\n\nexport default Positions;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Affiliation {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      sources: [],\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Affiliation(${this.getName()})`;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nAffiliation.unDry = function(value){\n  return new Affiliation(value);\n}\n\nDry.registerClass(\"Affiliation\", Affiliation);\n\nexport default Affiliation;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Affiliation from \"./Affiliation\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_affiliation_uid(){\n  let uid = uuidv4();\n  return \"A\" + uid.substring(uid.length-7);\n}\n\nclass Affiliations {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(affiliation){\n    if (!(affiliation instanceof Affiliation)){ return;}\n\n    let id = affiliation.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Affiliation ID ${affiliation}`);\n      }\n\n      this.state.registry[id] = affiliation;\n    }\n    else{\n      let uid = _generate_affiliation_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_affiliation_uid();\n      }\n\n      affiliation.state.id = uid;\n      this.state.registry[uid] = affiliation;\n    }\n  }\n\n  get(id){\n    let affiliation = this.state.registry[id];\n\n    if (affiliation === null){\n      throw MissingError(`No Affiliation with ID ${id}`);\n    }\n\n    return affiliation;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nAffiliations.unDry = function(value){\n  let affiliations = new Affiliations();\n  affiliations.state = value;\n  return affiliations;\n}\n\nDry.registerClass(\"Affiliations\", Affiliations);\n\nexport default Affiliations;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Source {\n  constructor(props){\n    this.state = {\n      name: null,\n      id: null,\n      notes: {},\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.name = setState(state.name);\n      this.state.id = setState(state.id);\n      this.state.notes = setState(state.notes, {})\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Source(${this.getName()})`;\n  }\n\n  getName(){\n    return this.state.name;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nSource.unDry = function(value){\n  return new Source(value);\n}\n\nDry.registerClass(\"Source\", Source);\n\nexport default Source;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Source from \"./Source\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_source_uid(){\n  let uid = uuidv4();\n  return \"S\" + uid.substring(uid.length-7);\n}\n\nclass Sources {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(source){\n    if (!(source instanceof Source)){ return;}\n\n    let id = source.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Source ID ${source}`);\n      }\n\n      this.state.registry[id] = source;\n    }\n    else{\n      let uid = _generate_source_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_source_uid();\n      }\n\n      source.state.id = uid;\n      this.state.registry[uid] = source;\n    }\n  }\n\n  get(id){\n    let source = this.state.registry[id];\n\n    if (source === null){\n      throw MissingError(`No Source with ID ${id}`);\n    }\n\n    return source;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nSources.unDry = function(value){\n  let sources = new Sources();\n  sources.state = value;\n  return sources;\n}\n\nDry.registerClass(\"Sources\", Sources);\n\nexport default Sources;\n","\nimport Dry from \"json-dry\";\n\nfunction setState(val, def=null){\n  if (val){\n    return val;\n  } else {\n    return def;\n  }\n}\n\nclass Note {\n  constructor(props){\n    this.state = {\n      text: null,\n      id: null,\n      sources: [],\n    };\n\n    this.setState(props);\n\n    this._getHook = null;\n  }\n\n  getID(){\n    return this.state.id;\n  }\n\n  setState(state){\n    if (state){\n      this.state.text = setState(state.text);\n      this.state.id = setState(state.id);\n      this.state.sources = setState(state.sources, []);\n    }\n  }\n\n  _updateHooks(hook){\n    this._getHook = hook;\n  }\n\n  toString(){\n    return `Note(${this.getText()})`;\n  }\n\n  getText(){\n    return this.state.text;\n  }\n\n  toDry(){\n    return {value: this.state};\n  }\n};\n\nNote.unDry = function(value){\n  return new Note(value);\n}\n\nDry.registerClass(\"Note\", Note);\n\nexport default Note;\n","\nimport Dry from 'json-dry';\nimport uuidv4 from 'uuid';\n\nimport Note from \"./Note\";\nimport { KeyError, MissingError } from './Errors';\n\nfunction _generate_note_uid(){\n  let uid = uuidv4();\n  return \"N\" + uid.substring(uid.length-7);\n}\n\nclass Notes {\n  constructor(props){\n    this.state = {\n      registry: {},\n    };\n  };\n\n  _updateHooks(hook){\n    this._getHook = hook;\n    for (let key in this.state.registry){\n      this.state.registry[key]._updateHooks(hook);\n    }\n  }\n\n  add(note){\n    if (!(note instanceof Note)){ return;}\n\n    let id = note.getID();\n\n    if (id){\n      if (id in this.state.registry){\n        throw KeyError(`Duplicate Note ID ${note}`);\n      }\n\n      this.state.registry[id] = note;\n    }\n    else{\n      let uid = _generate_note_uid();\n\n      while (uid in this.state.registry){\n        uid = _generate_note_uid();\n      }\n\n      note.state.id = uid;\n      this.state.registry[uid] = note;\n    }\n  }\n\n  get(id){\n    let note = this.state.registry[id];\n\n    if (note === null){\n      throw MissingError(`No Note with ID ${id}`);\n    }\n\n    return note;\n  }\n\n  toDry(){\n    return {value: this.state.registry};\n  }\n};\n\nNotes.unDry = function(value){\n  let notes = new Notes();\n  notes.state.registry = value;\n  return notes;\n}\n\nDry.registerClass(\"Notes\", Notes);\n\nexport default Notes;\n","\nimport Dry from 'json-dry';\n\nfunction setState(val, def=null){\n    if (val){\n      return val;\n    } else {\n      return def;\n    }\n  }\n\nclass DateRange{\n  constructor(value){\n    this.state = {\n      start: null,\n      end: null\n    }\n\n    this.setState(value);\n  }\n\n  setState(state){\n    if (state){\n      if (state === \"null\"){ return; }\n      this.state.start = setState(state.start);\n      this.state.end = setState(state.end);\n    }\n  }\n\n  toDry(){\n    return this.state;\n  }\n}\n\nDateRange.unDry = function(value){\n  return new DateRange(value);\n}\n\nDry.registerClass(\"DateRange\", DateRange);\n\nexport default DateRange;\n","\nimport Dry from 'json-dry';\nimport People from './People';\nimport Businesses from './Businesses';\nimport Messages from './Messages';\nimport Positions from './Positions';\nimport Affiliations from './Affiliations';\nimport Sources from './Sources';\nimport Notes from './Notes';\nimport DateRange from './DateRange';\n\nclass Social {\n  constructor(props) {\n    if (props){\n      this.state = props;\n    }\n    else{\n      this.state = {};\n    }\n\n    this.state.anchor = null;\n    this.state.filter = {\"node\": null, \"group\": null};\n    this.state.cache = null;\n    this.state.network = null;\n  }\n\n  _updateHooks() {\n    let getHook = (id) => { return this.get(id); };\n\n    let state = { ...this.state };\n\n    if (!(this.state.people instanceof People)) {\n      state.people = new People();\n    }\n    else {\n      state.people = this.state.people;\n    }\n\n    if (!(this.state.businesses instanceof Businesses)) {\n      state.businesses = new Businesses();\n    }\n    else {\n      state.businesses = this.state.businesses;\n    }\n\n    if (!(this.state.messages instanceof Messages)) {\n      state.messages = new Messages();\n    } else {\n      state.messages = this.state.messages;\n    }\n\n    if (!(this.state.positions instanceof Positions)) {\n      state.positions = new Positions();\n    }\n    else {\n      state.positions = this.state.positions;\n    }\n\n    if (!(this.state.affiliations instanceof Affiliations)) {\n      state.affiliations = new Affiliations();\n    }\n    else {\n      state.affiliations = this.state.affiliations;\n    }\n\n    if (!(this.state.sources instanceof Sources)) {\n      state.sources = new Sources();\n    }\n    else {\n      state.sources = this.state.sources;\n    }\n\n    if (!(this.state.notes instanceof Notes)) {\n      state.notes = new Notes();\n    }\n    else {\n      state.notes = this.state.notes;\n    }\n\n    this.state = state;\n\n    for (let key in this.state) {\n      try{\n        this.state[key]._updateHooks(getHook);\n      }\n      catch(error){}\n    }\n  }\n\n  getPeople() {\n    return this.state.people;\n  }\n\n  getBusinesses() {\n    return this.state.businesses;\n  }\n\n  getMessages() {\n    return this.state.messages;\n  }\n\n  getAffiliations() {\n    return this.state.affiliations;\n  }\n\n  getPositions() {\n    return this.state.positions;\n  }\n\n  getSources() {\n    return this.state.sources;\n  }\n\n  getNotes() {\n    return this.state.notes;\n  }\n\n  getConnectionsTo(item) {\n    return this.getMessages().getConnectionsTo(item);\n  }\n\n  getAnchor() {\n    return this.state.anchor;\n  }\n\n  getFilter() {\n    return {...this.state.filter};\n  }\n\n  getNodeFilter(){\n    return this.state.filter.node;\n  }\n\n  getGroupFilter(){\n    return this.state.filter.group;\n  }\n\n  resetFilters(){\n    this.state.filter = {node:null, group:null};\n    this.state.cache = null;\n  }\n\n  setAnchor(anchor) {\n    if (anchor) {\n      anchor = this.getPeople().find(anchor);\n    }\n\n    this.state.anchor = anchor;\n    this.state.cache = null;\n  }\n\n  toggleNodeFilter(item) {\n    if (this.state.filter.node === item) {\n      this.state.filter.node = null;\n    }\n    else{\n      this.state.filter.node = item;\n    }\n\n    this.state.cache = null;\n  }\n\n  toggleGroupFilter(item){\n    if (this.state.filter.group === item){\n      this.state.filter.group = null;\n    }\n    else{\n      this.state.filter.group = item;\n    }\n\n    this.state.cache = null;\n  }\n\n  getGraph() {\n    if (this.state.cache !== null){\n      return this.state.cache;\n    }\n\n    const anchor = this.state.anchor;\n    let node_filter = this.state.filter.node;\n    let group_filter = this.state.filter.group;\n\n    if (node_filter) {\n      let id = node_filter.getID();\n      let connections = this.getConnectionsTo(node_filter);\n      node_filter = {};\n      node_filter[id] = 1;\n      for (let connection in connections) {\n        let node = connections[connection];\n        node_filter[node.getID()] = 1;\n      }\n    }\n\n    let nodes = this.getPeople().getNodes({\n      anchor: anchor,\n      node_filter: node_filter,\n      group_filter: group_filter\n    });\n    nodes.add(this.getBusinesses().getNodes({\n      group_filter: group_filter,\n      node_filter: node_filter\n    }).get());\n\n    let edges = this.getMessages().getEdges();\n\n    this.state.cache = {\"nodes\": nodes, \"edges\": edges};\n    return this.state.cache;\n  }\n\n  setNetwork(network){\n    this.state.network = network;\n  }\n\n  getNetwork(){\n    return this.state.network;\n  }\n\n  get(id) {\n    if (id[0] === \"M\") {\n      return this.getMessages().get(id);\n    }\n    else if (id[0] === \"P\") {\n      return this.getPeople().get(id);\n    }\n    else if (id[0] === \"B\") {\n      return this.getBusinesses().get(id);\n    }\n    else if (id[0] === \"Q\") {\n      return this.getPositions().get(id);\n    }\n    else if (id[0] === \"A\") {\n      return this.getAffiliations().get(id);\n    }\n    else if (id[0] === \"S\") {\n      return this.getSources().get(id);\n    }\n    else if (id[0] === \"N\") {\n      return this.getNotes().get(id);\n    }\n    else {\n      return id;\n    }\n  }\n\n  toDry() {\n    return { value: this.state };\n  }\n}\n\nSocial.unDry = function (value) {\n  let social = new Social(value);\n  social._updateHooks();\n\n  return social;\n}\n\nDry.registerClass(\"Social\", Social);\n\nexport default Social;\n","import React from \"react\";\nimport { Card, CardHeader, CardBody, CardImg } from 'reactstrap';\n\nimport GroupsList from './GroupsList';\nimport ConnectionList from './ConnectionList';\n\nimport Social from '../model/Social';\nimport Person from '../model/Person';\nimport Business from '../model/Business';\nimport Message from '../model/Message';\n\nimport styles from './InfoBox.module.css';\n\nlet default_title = \"Isambard's Social Network\";\nlet default_image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Robert_Howlett_-_Isambard_Kingdom_Brunel_and_the_launching_chains_of_the_Great_Eastern_-_Google_Art_Project.jpg/256px-Robert_Howlett_-_Isambard_Kingdom_Brunel_and_the_launching_chains_of_the_Great_Eastern_-_Google_Art_Project.jpg\";\nlet default_text = <div>\n                      This is an interactive viewer of Isambard Kingdom Brunel's\n                      social network. Please click in the nodes and have fun!\n                    </div>;\n\nfunction null_function(item){}\n\nfunction getBiography({item, social, emitClicked=null_function,\n                       emitSelected=null_function}){\n  let name = \"unknown\";\n  let affiliations = [];\n  let positions = [];\n  let connections = social.getConnectionsTo(item);\n\n  if (item.getAffiliations){\n    let a = item.getAffiliations();\n    for (let val in a){\n      affiliations.push(a[val][0]);\n    }\n  }\n\n  if (item.getPositions){\n    let p = item.getPositions();\n    for (let val in p){\n      positions.push(p[val][0]);\n    }\n  }\n\n  if (item.getName){\n    name = item.getName();\n  }\n\n  return (\n    <div>\n      <button href=\"#\" className={styles.button}\n              onClick={()=>{emitSelected(item);}}>\n        {name}\n      </button>\n      <GroupsList title=\"Affiliations\"\n                  groups={affiliations}\n                  emitClicked={emitSelected}/>\n      <GroupsList title=\"Positions\"\n                  groups={positions}\n                  emitClicked={emitSelected}/>\n      <ConnectionList title=\"Connections\"\n                connections={connections}\n                emitClicked={emitClicked}/>\n    </div>\n  );\n}\n\nfunction extractData({item, social, emitClicked=null_function,\n                      emitSelected=null_function}){\n  let data = {title:default_title, text:default_text, image:default_image};\n\n  if (!(social instanceof Social)){\n    return data;\n  }\n\n  if (item instanceof Person){\n    data.title = \"Person\";\n    data.text = getBiography({item:item, social:social,\n                              emitClicked:emitClicked,\n                              emitSelected:emitSelected});\n    data.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Illustrirte_Zeitung_%281843%29_21_332_1_Das_vom_Stapellaufen_des_Great-Britain.PNG/640px-Illustrirte_Zeitung_%281843%29_21_332_1_Das_vom_Stapellaufen_des_Great-Britain.PNG\";\n  }\n  else if (item instanceof Business){\n    data.title = \"Business\";\n    data.text = getBiography({item:item, social:social,\n                              emitClicked:emitClicked,\n                              emitSelected:emitSelected});\n    data.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/SS_Great_Britain_diagram.jpg/320px-SS_Great_Britain_diagram.jpg\";\n  }\n  else if (item instanceof Message){\n    data.title = \"Message\";\n\n    let sender = item.getSender();\n    if (sender.getName){\n      let node = sender;\n      sender = <button href=\"#\" onClick={emitClicked(node)}\n                  className={styles.controlButton}>\n                  {sender.getName()}\n               </button>;\n    }\n\n    let receiver = item.getReceiver();\n    if (receiver.getName){\n      let node = receiver;\n      receiver = <button href=\"#\" onClick={emitClicked(node)}\n                   className={styles.controlButton}>\n                   {receiver.getName()}\n                 </button>;\n    }\n\n    data.text = <span>Message from {sender} to {receiver}</span>;\n    data.image = \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/SS_Great_Britain_transverse_section.jpg/320px-SS_Great_Britain_transverse_section.jpg\";\n  }\n\n  return data;\n}\n\nfunction InfoBox(props) {\n  let data = extractData(props);\n\n  return (\n    <Card body outline color=\"secondary\" style={{height:\"100%\", overflowY:\"scroll\"}}>\n        <CardHeader align=\"center\">{data.title}</CardHeader>\n        <CardImg top width=\"100%\" src={data.image} />\n        <CardBody>\n        {data.text}\n        </CardBody>\n    </Card>\n  );\n};\n\nexport default InfoBox;\n","import React, { Component } from 'react'\nimport Timeline from 'react-visjs-timeline'\n\nconst basicExample = {\n  options: {\n    start: '2014-04-10',\n    end: '2014-04-30',\n  },\n  items: [\n    { id: 1, content: 'item 1', start: '2014-04-20' },\n    { id: 2, content: 'item 2', start: '2014-04-14' },\n    { id: 3, content: 'item 3', start: '2014-04-18' },\n    { id: 4, content: 'item 4', start: '2014-04-16', end: '2014-04-19' },\n    { id: 5, content: 'item 5', start: '2014-04-25' },\n    { id: 6, content: 'item 6', start: '2014-04-27', type: 'point' },\n  ],\n}\n\nclass TimeLineBox extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selectedIds: [],\n    }\n  }\n\n  render() {\n    return (\n        <Timeline {...basicExample} />\n    )\n  }\n}\n\nexport default TimeLineBox\n","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    ;\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  }; // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n      var node = ReactDOM.findDOMNode(this);\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(node, mounting);\n      } else {\n        this.performExit(node);\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(node, mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(node);\n      });\n      return;\n    }\n\n    this.props.onEnter(node, appearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(node, appearing);\n\n      _this2.onTransitionEnd(node, enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node, appearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit(node) {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(node);\n      });\n      return;\n    }\n\n    this.props.onExit(node);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(node);\n\n      _this3.onTransitionEnd(node, timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n    this.setNextCallback(handler);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(node, this.nextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\"]); // filter props for Transtition\n\n\n    delete childProps.in;\n    delete childProps.mountOnEnter;\n    delete childProps.unmountOnExit;\n    delete childProps.appear;\n    delete childProps.enter;\n    delete childProps.exit;\n    delete childProps.timeout;\n    delete childProps.addEndListener;\n    delete childProps.onEnter;\n    delete childProps.onEntering;\n    delete childProps.onEntered;\n    delete childProps.onExit;\n    delete childProps.onExiting;\n    delete childProps.onExited;\n\n    if (typeof children === 'function') {\n      // allows for nested Transitions\n      return React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, children(status, childProps));\n    }\n\n    var child = React.Children.only(children);\n    return (// allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, React.cloneElement(child, childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Normally a component is not transitioned if it is shown when the\n   * `<Transition>` component mounts. If you want to transition on the first\n   * mount set `appear` to `true`, and the component will transition in as soon\n   * as the `<Transition>` mounts.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. **Note:** Timeouts are still used as a fallback if provided.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func // Name the function so it is clearer in the documentation\n\n} : {};\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = 0;\nTransition.EXITED = 1;\nTransition.ENTERING = 2;\nTransition.ENTERED = 3;\nTransition.EXITING = 4;\nexport default Transition;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](http://www.nganimate.org/) library, you should use it if you're\n * using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (node, appearing) {\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(node, appearing);\n      }\n    };\n\n    _this.onEntering = function (node, appearing) {\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(node, appearing);\n      }\n    };\n\n    _this.onEntered = function (node, appearing) {\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(node, appearing);\n      }\n    };\n\n    _this.onExit = function (node) {\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(node);\n      }\n    };\n\n    _this.onExiting = function (node) {\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(node);\n      }\n    };\n\n    _this.onExited = function (node) {\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(node);\n      }\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    if (type === 'appear' && phase === 'done') {\n      className += \" \" + this.getClassNames('enter').doneClassName;\n    } // This is for to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      /* eslint-disable no-unused-expressions */\n      node && node.scrollTop;\n    }\n\n    this.appliedClasses[type][phase] = className;\n\n    _addClass(node, className);\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided and it\n   * will be suffixed for each stage: e.g.\n   *\n   * `classNames=\"fade\"` applies `fade-appear`, `fade-appear-active`,\n   * `fade-appear-done`, `fade-enter`, `fade-enter-active`, `fade-enter-done`,\n   * `fade-exit`, `fade-exit-active`, and `fade-exit-done`.\n   *\n   * **Note**: `fade-appear-done` and `fade-enter-done` will _both_ be applied.\n   * This allows you to define different behavior for when appearing is done and\n   * when regular entering is done, using selectors like\n   * `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply an\n   * epic entrance animation when element first appears in the DOM using\n   * [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   * simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","export default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","\nimport React from \"react\";\nimport {CSSTransition} from \"react-transition-group\";\n\nimport styles from './SlidingPanel.module.css'\nimport SlideFromLeft from './transitions/SlideFromLeft.module.css';\nimport SlideFromRight from './transitions/SlideFromRight.module.css';\nimport SlideFromBottom from './transitions/SlideFromBottom.module.css';\nimport SlideFromTop from './transitions/SlideFromTop.module.css';\n\nfunction SlidingPanel({children, isOpen=false, position=\"right\", }){\n  let container = styles.rightContainer;\n  let transition = SlideFromRight;\n\n  if (position === \"right\"){\n    container = styles.rightContainer;\n    transition = SlideFromRight;\n  }\n  else if (position === \"bottom\"){\n    container = styles.bottomContainer;\n    transition = SlideFromBottom;\n  }\n  else if (position === \"top\"){\n    container = styles.topContainer;\n    transition = SlideFromTop;\n  }\n  else if (position === \"left\"){\n    container = styles.leftContainer;\n    transition = SlideFromLeft;\n  }\n\n  container = `${container} ${styles.container}`;\n\n  return (<CSSTransition in={isOpen}\n                         timeout={200}\n                         classNames={transition}\n                         unmountOnExit>\n            <div className={container}>\n              {children}\n            </div>\n          </CSSTransition>);\n};\n\nexport default SlidingPanel;\n","\n// package imports\nimport React from 'react';\nimport Dry from 'json-dry';\n\n// Brunel components\nimport SocialGraph from \"./components/SocialGraph\";\nimport InfoBox from \"./components/InfoBox\";\nimport TimeLineBox from './components/TimeLineBox';\nimport SlidingPanel from './components/SlidingPanel';\n\n// Brunel model\nimport Social from './model/Social';\n\n// Data for import\nimport graph_data from './data.json';\n\n// Styling for the app\nimport styles from './SocialApp.module.css'\n\nclass SocialApp extends React.Component {\n  constructor(props){\n    super(props);\n\n    let social = Dry.parse(graph_data);\n    console.log(social);\n\n    if (!(social instanceof Social )){\n      console.log(\"Could not parse!\");\n      social = new Social();\n    }\n\n    social.setAnchor(\"Brunel\");\n\n    this.state = {\n      social: social,\n      selected_item: null,\n      isInfoPanelOpen: false,\n      isTimeLinePanelOpen: false,\n      timeline: new TimeLineBox(),\n    };\n  }\n\n  resetFilters(){\n    let social = this.state.social;\n    social.resetFilters();\n    this.setState({social:social});\n  }\n\n  selectNode(node){\n    let social = this.state.social;\n    social.toggleNodeFilter(node);\n    this.setState({social:social});\n  }\n\n  selectGroup(group){\n    let social = this.state.social;\n    social.toggleGroupFilter(group);\n    this.setState({social:social});\n  }\n\n  showInfo(item){\n    this.setState({selected_item:item,\n                   isInfoPanelOpen:true});\n  }\n\n  slotSelected(item){\n    if (!item){\n      return;\n    }\n\n    let is_node = false;\n\n    try{\n      is_node = item.isNode();\n    }\n    catch(error)\n    {}\n\n    if (is_node){\n      this.selectNode(item);\n    }\n    else{\n      this.selectGroup(item);\n    }\n  }\n\n  slotClicked(id){\n    if (!id){\n      this.setState({isInfoPanelOpen:false,\n                     isTimeLinePanelOpen:false});\n      return;\n    }\n\n    const social = this.state.social;\n    const item = social.get(id);\n    this.showInfo(item);\n  }\n\n  toggleInfoPanel(){\n    this.setState({isInfoPanelOpen: !(this.state.isInfoPanelOpen)});\n  }\n\n  toggleTimeLinePanel(){\n    this.setState({isTimeLinePanelOpen: !(this.state.isTimeLinePanelOpen)});\n  }\n\n  render(){\n    const item = this.state.selected_item;\n    let social = this.state.social;\n\n    const node_filter = social.getNodeFilter();\n    const group_filter = social.getGroupFilter();\n\n    let filter_text = null;\n    let reset_button = null;\n\n    if (node_filter){\n      filter_text = `${node_filter}`;\n    }\n\n    if (group_filter){\n      let text = `${group_filter}`;\n      if (filter_text){\n        filter_text = `${filter_text} and ${text}`;\n      }\n      else{\n        filter_text = text;\n      }\n    }\n\n    if (filter_text){\n      filter_text = <div className={styles.filterText}>\n                      {filter_text}\n                    </div>;\n      reset_button = <button onClick={() => {this.resetFilters()}}\n                             className={styles.controlButton}\n                             style={{fontSize:\"small\"}}>\n                       Reset Filters\n                     </button>;\n    }\n\n    return (\n      <div>\n        <SlidingPanel isOpen={this.state.isTimeLinePanelOpen}\n                      position='bottom'>\n          {this.state.timeline.render()}\n        </SlidingPanel>\n        <SlidingPanel isOpen={this.state.isInfoPanelOpen}\n                      position='right'>\n          <InfoBox item={item} social={social}\n                   emitClicked={(item)=>{this.slotClicked(item)}}\n                   emitSelected={(item)=>{this.slotSelected(item)}}/>\n        </SlidingPanel>\n        <div className={styles.graphContainer}>\n          <SocialGraph social={this.state.social}\n                       emitClicked={(id)=>this.slotClicked(id)} />\n        </div>\n        <div className={styles.bottomContainer}>\n          <button onClick={() => this.toggleTimeLinePanel()}\n                  className={styles.controlButton}\n                  style={{fontSize:\"small\"}}>\n            Show timeline\n          </button>\n          {filter_text}\n          {reset_button}\n          <div className={styles.citationText}>\n           <a href=\"https://github.com/chryswoods/brunel\">\n            View source</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default SocialApp;\n"],"sourceRoot":""}